(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"+EeN":function(module,exports,e){e("gr85")},"+I2y":function(module,exports,e){},"+Xbf":function(module,exports,e){},"0rNP":function(module,exports,e){e("MRCE")},"4xiJ":function(module,exports,e){e("z+2O")},"5sGT":function(module,exports,e){},"6FM8":function(module,e,t){"use strict";var n=t("17x9"),r=t.n(n),a=r.a.shape({definition:r.a.shape({dtdId:r.a.string.isRequired,value:r.a.string.isRequired}).isRequired,typeName:r.a.oneOf(["cml"]).isRequired});t.d(e,"a",(function(){return o})),t.d(e,"b",(function(){return s}));var o=n.PropTypes.shape({fullName:n.PropTypes.string,userId:n.PropTypes.number.isRequired,externalUserId:n.PropTypes.string.isRequired}),s=n.PropTypes.shape({createdAt:n.PropTypes.number,creatorId:n.PropTypes.number,isUpvoted:n.PropTypes.bool,id:n.PropTypes.string,content:a,upvoteCount:n.PropTypes.number,childAnswerCount:n.PropTypes.number,isFlagged:n.PropTypes.bool,creator:o,forumType:n.PropTypes.string,topLevelForumAnswerId:n.PropTypes.string,forumCommentId:n.PropTypes.string,type:n.PropTypes.string,order:n.PropTypes.number,questionId:n.PropTypes.string,highlighted:n.PropTypes.bool})},"6nXq":function(module,exports,e){},"9wPM":function(module,exports){module.exports={name:"FlexSupport",parameters:[{name:"customLabelsEnabled",value:!1}]}},EGV0:function(module,exports,e){},GmVJ:function(module,e,t){"use strict";t.r(e);var n=t("q1tI"),r=t("Yf05"),a=t("K2XA"),o=t("z3RS");e.default=function(e){var t=e.computedItem,s=e.itemMetadata;return(n.createElement(a.a,{className:"rc-DiscussionPromptWrapper",hideFeedback:!0},n.createElement("div",{className:"discussion-prompt-content"},n.createElement(o.a,{itemName:t.name,itemMetadata:s,courseId:t.courseId}),n.createElement(r.a,{itemMetadata:s,previouslyCompleted:t.isCompleted}))))}},IEb9:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),a=t("q1tI"),o=t("17x9"),s=t.n(o),i=t("GP6s"),c=t.n(i),l=(t("K+uZ"),function(e){function AdminDetails(){return e.apply(this,arguments)||this}return r()(AdminDetails,e),AdminDetails.prototype.render=function(){var e,t=this.props.post;return t.showAdminDetails?a.createElement("div",{className:"rc-AdminDetails align-self-end"},a.createElement("p",null,c()("User ID")+": "+(null===(e=t.creator)||void 0===e?void 0:e.userId)||c()("Not Available"))):null},AdminDetails}(a.Component));l.propTypes={post:s.a.object.isRequired},e.a=l},IFlS:function(module,exports,e){e("6nXq")},Jrms:function(module,e,t){"use strict";t("Z4jC"),t("qKZX"),t("O3/B"),t("PbQK");var n,r,a,o,s,i,c,l=t("GqWO"),u=(t("lDAk"),t("2BcA"),t("13T+"),t("5+aF")),d=(t("JacN"),t("abvH"),t("Yf05"),t("fg2g"),t("fX3K"),t("t5oi"),t("BhsZ"),t("3hlQ"),t("8/1n")),p=t("pVnL"),m=t.n(p),h=t("3tO9"),f=t.n(h),g=t("VbXa"),b=t.n(g),v=t("q1tI"),y=t("17x9"),S=t.n(y),E=t("MnCE"),C=t("ngyh"),I=t("W1i5"),x=t("VkAN"),N=t.n(x),R=t("OhL7"),w=t("zXDh"),T=t("6/Gu"),O=t("8Hdl"),q=t("FdHa"),k=t("ZJgU"),D=t("SJ7i"),j=t("rMoS"),A=t("ALLZ"),L=t("loer"),F=t("QTCJ"),P=t("9A5E"),M=t("GP6s"),U=t.n(M),B=function(e){function DiscussionsWeekHeroUnit(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).goToForum=function(){t.context.router.push(Object(l.q)(t.props.weekNumber))},t}return b()(DiscussionsWeekHeroUnit,e),DiscussionsWeekHeroUnit.prototype.render=function(){var e=this.props,t=e.weekNumber,u=e.isLoading,d=e.lastAnsweredAt,p=e.forumQuestionCount,m=e.title,h=e.description;if(!t)return null;var f=Object(w.isUserRightToLeft)()?n||(n=Object(R.d)(j.a,{size:"small"})):r||(r=Object(R.d)(A.a,{size:"small"}));return Object(R.d)("div",{css:Object(R.c)(a||(a=N()(["\n          padding: var(--cds-spacing-300);\n          margin: 0 !important;\n        "]))),className:"card-no-action rc-DiscussionsWeekHeroUnit"},u?o||(o=Object(R.d)("div",{className:"message align-horizontal-center"},Object(R.d)("i",{className:"cif-spinner cif-spin cif-2x"}))):Object(R.d)(T.a,{container:!0,item:!0,css:Object(R.c)(s||(s=N()(["\n              justify-content: space-between;\n            "])))},Object(R.d)(T.a,{item:!0},Object(R.d)(O.a,{variant:"h2semibold","aria-label":m,className:"card-headline-text"},m),Object(R.d)(L.a,{cml:h,css:Object(R.c)(i||(i=N()(["\n                  margin: var(--cds-spacing-200) 0 var(--cds-spacing-50) 0;\n                "]))),isCdsEnabled:!0}),Object(R.d)(F.a,{lastAnsweredAt:d,forumQuestionCount:p})),Object(R.d)(T.a,{item:!0,css:Object(R.c)(c||(c=N()(["\n                /* stylelint-disable-next-line block-no-empty */\n                "," {\n                }\n                "," {\n                  padding: var(--cds-spacing-300) 0 0 0;\n                }\n              "])),q.a.up("sm"),q.a.down("sm"))},Object(R.d)(k.a,{component:P.b,size:"medium",variant:"primary",href:Object(l.q)(t),trackingName:"discussions_hero_unit",icon:f,iconPosition:"after"},U()("Go to forum")))))},DiscussionsWeekHeroUnit}(v.Component);B.contextTypes={router:S.a.object.isRequired};var Q=Object(D.a)(B),V=t("DPPf"),z=t("emlC"),G=function(e){function DiscussionsCurrentWeekLoader(){return e.apply(this,arguments)||this}return b()(DiscussionsCurrentWeekLoader,e),DiscussionsCurrentWeekLoader.prototype.render=function(){var e=this.props,t=e.weekNumber,n=e.forum,r=e.forumStatistic;return t&&n?v.createElement(Q,{weekNumber:t,isLoading:!1,title:n.title,description:n.description,lastAnsweredAt:r&&r.lastAnsweredAt,forumQuestionCount:r&&r.forumQuestionCount}):null},DiscussionsCurrentWeekLoader}(v.Component),J=Object(E.b)(Object(u.a)({fields:["link","title","forumType","description","lastAnsweredAt","forumQuestionCount"]}),Object(z.a)(["CourseStore","CourseScheduleStore","ProgressStore"],(function(e,t){var n=e.CourseStore,r=e.CourseScheduleStore,a=e.ProgressStore;return{weekNumber:t.weekNumber||Object(V.a)(n,r,a)}})),Object(I.a)((function(e){var t=e.courseForums.find((function(t){return t.forumType.definition.weekNumber===e.weekNumber}));return f()(f()({},e),{},{forum:t,forumStatistic:t&&e.courseForumStatistics&&e.courseForumStatistics.find((function(e){return e.courseForumId===t.id}))})})))(G);(function(e){function FluxibleDiscussionsAppLoader(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).fluxibleContext=void 0,t}b()(FluxibleDiscussionsAppLoader,e);var t=FluxibleDiscussionsAppLoader.prototype;return t.componentWillMount=function(){var e=this.context.fluxibleContext;this.fluxibleContext=Object(d.a)(e)},t.render=function(){var e;return(v.createElement(C.a,{context:null===(e=this.fluxibleContext)||void 0===e?void 0:e.getComponentContext()},v.createElement(J,m()({},this.props,{isCourseWeekPage:!0}))))},FluxibleDiscussionsAppLoader}(v.Component)).contextTypes={fluxibleContext:S.a.object};t("ii1C"),t("Vp23");var W=t("u6zc");t("ad2n"),t("k8aN"),t("DF7H"),t("51ov"),t("soxB"),t("wvSq");t.d(e,"a",(function(){return W.a}))},"K+uZ":function(module,exports,e){e("5sGT")},"MK+n":function(module,exports,e){},MRCE:function(module,exports,e){},NCTg:function(module,exports,e){e("y1Ib")},NJfQ:function(module,exports,e){},Ou6l:function(module,exports,e){e("+I2y")},PbQK:function(module,e,t){"use strict";var n,r,a=t("pVnL"),o=t.n(a),s=t("VbXa"),i=t.n(s),c=t("q1tI"),l=t("TSYQ"),u=t.n(l),d=t("fw5G"),p=t.n(d),m=t("17x9"),h=t.n(m),f=t("F/us"),g=t.n(f),b=t("ngyh"),v=t("8cuT"),y=t("+LJP"),S=t("L1vm"),E=t("KJtU"),C=t("8/1n"),I=t("eJMc"),x=t.n(I),N=t("kvW3"),R=t("++Ya"),w=t("6JtA"),T=t("Nxpp"),O=t("Jrms"),q=t("JacN"),k=t("2xl4"),D=t("kRCD"),j=t("dJDe"),A=t("QXTe"),L=t("py0D"),F=t("as3Y"),P=t("5+aF"),M=t("NMx/"),U=t("abvH"),B=t("sWYI"),Q=t("2BcA"),V=t("GqWO"),z=t("ii1C"),G=t("oEt1"),J=t("WE4C"),W=t("weTL"),H=t("BZ+2"),K=t("zFZo"),X=t("GP6s"),Y=t.n(X),Z=(t("cVOE"),Q.d.limitPerPage),ee=function(e){function ThreadDetail(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={canTeach:!1,inputClickCounter:0},t.fetchAnswerPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t.props,r=n.answerId,a=n.questionId,o=n.courseId,s=n.courseSlug,i=n.userId,c=n.contextId,l=n.currentForum,u=n.currentForumUrl,d=n.sort,m=n.page,h=e||r;if(h){var f=Object(R.c)([o,h]);Object(k.b)(f,d,Z).then((function(e){e===m?t.context.executeAction(q.b,{questionId:a,courseId:o,courseSlug:s,userId:i,contextId:c,sort:d,page:m,forumType:l&&l.forumType.typeName,includeDeleted:t.props.hasModerationRole}):t.context.router.replace({pathname:t.context.router.location.pathname,params:{},query:Object.assign(g.a.object(new p.a(t.context.router.location.search).queryPairs),{page:e})})})).fail((function(){var e=u;t.context.router.replace(Object(V.a)(e,a)),t.context.executeAction(q.b,{userId:i,courseId:o,courseSlug:s,contextId:c,questionId:a,sort:Q.g.detailSort,page:Q.g.detailPage,forumType:l&&l.forumType.typeName,includeDeleted:t.props.hasModerationRole})})).done()}},t}i()(ThreadDetail,e);var t=ThreadDetail.prototype;return t.componentWillMount=function(){var e=this.props,t=e.questionId,n=e.sort,r=e.page,a=e.answerId,o=e.userId,s=e.courseId,i=e.courseSlug,c=e.contextId,l=e.currentForum;this.context.executeAction(q.d,{questionId:t,userId:o,contextId:c,sort:n,page:r,forumType:l&&l.forumType.typeName}),a||1===r&&n===Q.g.detailSort||this.context.executeAction(q.b,{questionId:t,userId:o,courseId:s,courseSlug:i,contextId:c,sort:n,page:r,forumType:l&&l.forumType.typeName,includeDeleted:this.props.hasModerationRole})},t.componentDidMount=function(){this.getRole(),this.fetchAnswerPosition(),this._isMounted=!0},t.componentWillReceiveProps=function(e){var t=e.questionId,n=e.userId,r=e.courseId,a=e.courseSlug,o=e.contextId,s=e.sort,i=e.page,c=e.currentForum;e.sort!==this.props.sort||e.page!==this.props.page?this.context.executeAction(q.b,{questionId:t,userId:n,courseId:r,courseSlug:a,contextId:o,sort:s,page:i,forumType:c&&c.forumType.typeName,includeDeleted:this.props.hasModerationRole}):this.props.answerSavingState===Q.n.SAVING&&e.answerSavingState===Q.n.SAVED&&(this.context.executeAction(q.b,{questionId:t,userId:n,courseId:r,courseSlug:a,contextId:o,sort:s,page:i,forumType:c&&c.forumType.typeName,includeDeleted:this.props.hasModerationRole}),this.context.router.push({pathname:window.location.pathname,params:{},query:{sort:Q.c.newestSort}}))},t.componentDidUpdate=function(e){(e.questionId!==this.props.questionId||e.currentForum&&e.currentForum.id!==this.props.currentForum.id)&&this.markRead()},t.componentWillUnmount=function(){this._isMounted=!1},t.getRole=function(){var e=this,t=this.props,n=t.authenticated,r=t.isSuperuser,a=t.currentForum,o=a&&a.forumType.definition.groupId;o?Object(T.a)(o,n,r).then((function(t){e._isMounted&&e.setState({canTeach:t})})):this.setState({canTeach:this.props.hasModerationRole})},t.getBackLinkDescription=function(){return this.props.currentForum.title},t.markRead=function(){J.a.markRead(this.props.questionId)},t.render=function(){var e=this,t=this.props,a=t.question,o=t.isClosed,s=t.isPinned,i=t.currentForumUrl,l=t.currentForum,u=t.sort,d=t.page,p=t.questionId,m=t.answerId,h=t.latestNewThreadId,f=t.commentId,g=i,b=l&&l.forumType.typeName,v=Q.k.mentorForumType,y=Q.k.groupForumType,S=l&&[v,y].indexOf(b)<0,E=S,C=this.state.canTeach&&a&&S,I=a?Object(G.c)(a):"undefined-thread-legend",R=Object(w.a)();return c.createElement("div",{className:"rc-ThreadDetail"},a&&c.createElement("h2",{id:I,className:"screenreader-only"},c.createElement(N.b,{message:Y()("Thread: {title}"),title:a.content.question})),C&&c.createElement(A.a,{question:a}),h===p&&c.createElement("div",{className:"sr-only","aria-live":"polite"},c.createElement(N.b,{message:Y()("Your new thread was created")})),c.createElement("div",{className:"discussion-content"},c.createElement("div",{className:"horizontal-box align-items-vertical-center align-items-spacebetween"},c.createElement(x.a,{to:this.props.backLink,className:"back-area nostyle"},c.createElement("div",{className:"horizontal-box align-items-vertical-center"},n||(n=c.createElement("i",{className:"back-arrow cif-arrow-left c-back-arrow-image"})),c.createElement("h2",{className:"headline-2-text c-back-label"},this.getBackLinkDescription()))),this.state.canTeach&&a&&c.createElement(B.a,{question:a,shouldShowMoveThread:E})),c.createElement("div",{className:"frost-container"},c.createElement("div",null,c.createElement(F.a,{goToInput:function(){return e.setState({inputClickCounter:e.state.inputClickCounter+1})},question:a,isPinned:s,forumLink:g}),o&&c.createElement("div",{className:"c-thread-locked card-no-action color-secondary-text"},c.createElement("div",{className:"horizontal-box align-items-absolute-center"},r||(r=c.createElement("i",{className:"cif-lock"})),Y()("This thread is closed. You cannot add any more responses.")))),c.createElement("div",null,a&&c.createElement(U.a,{page:d,sort:u,answerId:m,commentId:f,forumLink:g,questionId:p,fetchAnswerPosition:this.fetchAnswerPosition}),!o&&c.createElement("div",{className:"reply-container horizontal-box"},c.createElement(O.a,{externalUserId:R.get("externalUserId"),fullName:R.get("fullName"),profileImageUrl:R.getProfileImageUrl()}),a&&c.createElement(M.a,{question:a,parentPost:a,savingState:this.props.answerSavingState,shouldFocusCounter:this.state.inputClickCounter,ariaLabel:Y()("Reply to this thread"),ariaDescribedBy:I})),a&&a.state&&a.state.deleted&&c.createElement(L.a,{entry:a,hideUndoDelete:!1})))))},ThreadDetail}(c.Component);ee.propTypes={questionId:h.a.string.isRequired,sort:h.a.string.isRequired,page:h.a.number.isRequired,backLink:h.a.string.isRequired,authenticated:h.a.bool.isRequired,isSuperuser:h.a.bool.isRequired,answerSavingState:h.a.string,answerId:h.a.string,commentId:h.a.string,question:h.a.object,isClosed:h.a.bool,isPinned:h.a.bool,latestNewThreadId:h.a.string,contextId:h.a.string,userId:h.a.number,courseId:h.a.string,courseSlug:h.a.string,currentForum:h.a.oneOfType([h.a.instanceOf(H.a),h.a.instanceOf(K.a),h.a.instanceOf(W.a)]),currentForumUrl:h.a.string,hasModerationRole:h.a.bool},ee.contextTypes={executeAction:h.a.func.isRequired,router:h.a.object.isRequired};var te,ne,re=g.a.compose(Object(v.a)(["ThreadDetailsStore","ThreadsStore","ThreadSettingsStore","CourseStore","ApplicationStore"],(function(e,t){var n=e.ThreadDetailsStore,r=e.ThreadsStore,a=e.ThreadSettingsStore,o=e.CourseStore,s=e.ApplicationStore,i=t.questionId,c=n.getQuestion(i),l=r.threadToInsert&&r.threadToInsert.questionId;return{question:c,courseId:o.getCourseId(),courseSlug:o.getCourseSlug(),answerSavingState:c&&n.savingStates[c.id],isClosed:a.isClosed(),isPinned:a.isPinned(),latestNewThreadId:l,userId:s.getUserData().id,authenticated:s.isAuthenticatedUser(),isSuperuser:s.isSuperuser()}})),Object(P.a)({fields:["link","title"],subcomponents:[j.a,M.a,D.a]}),Object(y.a)(z.a))(ee),ae=t("EdUP"),oe=t("ZN56"),se=t("lSNA"),ie=t.n(se),ce=t("J4zp"),le=t.n(ce),ue=t("VkAN"),de=t.n(ue),pe=t("OhL7"),me=t("vXr1"),he=t("He/R"),fe=t("fguj"),ge=t("Gok7"),be=t("W1i5"),ve=t("BVC1"),ye=t("3JZf"),Se=t("cnzX"),Ee=t("ZJgU"),Ce=t("RT5p"),Ie=t("4LFf"),xe=t("ikq3"),Ne=t("bJHw"),Re=t("7/QA"),we=t("q5zD"),Te=t("IDuc"),Oe=t("JPjw"),qe=(t("EY7j"),function(e){function NewThreadButton(t,n){var r;return(r=e.call(this,t,n)||this).handleSubmit=function(){var e=r.state,t=e.currentForum,n=e.activeFilterId,a=e.title,o=e.content,s=r.props,i=s.userId,c=s.filter,l=s.showSessionSelector,u=r.context.executeAction;if(g()(r.state).any((function(e){return e.hasError})))a.hasError?r.titleElemRef.focus():o.hasError?r.contentElemRef.focus():t.hasError&&r.forumElemRef.focus(),r.setState({showErrors:!0});else{var d={title:a.value,content:o.value,context:""};l?d.context=n:c&&(d.context=c.id);var p=!!d.context&&"all"!==d.context&&"ondemand"!==d.context,m={content:{question:d.title,details:d.content},overrideSessionId:p?d.context:void 0,state:{},userId:i,courseForumId:t.value.id,mentorForumId:t.value.id,groupForumId:t.value.id},h=t.value.forumId,f=t.value.forumType&&t.value.forumType.typeName;r.setState({saving:!0}),u(oe.a,{options:m,forumType:f,forumId:h})}},r.handleDropdownChange=function(e){r.setState({activeFilterId:e})},r.handleOpenModal=function(){var e=r.props,t=e.userId,n=e.course,a=e.verificationDisplay;Object(Se.a)(t,n,a).then((function(){return r.handleOpen()}))},r.handleCancel=function(){r.setState(r.resetState())},r.handleCloseModal=function(){r.setState({showModal:!1})},r.handleInputChange=function(e,t){var n=r.state[e];n.value=t.value,n.hasError=!t.isValid,r.setState((function(e){return e}))},r.clearErrorsAndSubmit=function(){r.setState({showErrors:!1}),setTimeout((function(){r.handleSubmit()}),500)},r.setTitleElemRef=function(e){r.titleElemRef=e},r.setContentElemRef=function(e){r.contentElemRef=e},r.setForumElemRef=function(e){r.forumElemRef=e},r.state=r.resetState(),r.titleElemRef={},r.contentElemRef={},r.forumElemRef={},r}i()(NewThreadButton,e);var t=NewThreadButton.prototype;return t.componentWillReceiveProps=function(e){var t=this.props.threadSavingState;if(!this.state.saving){var n=this.props.currentForum,r=!n;this.setState({currentForum:{value:n,hasError:r}})}t===Q.n.SAVING&&e.threadSavingState===Q.n.SAVED?this.handleSaveSuccess(e.newThread):t===Q.n.SAVING&&e.threadSavingState===Q.n.ERROR&&this.handleSaveError()},t.handleSaveSuccess=function(e){var t=this.context.router,n=this.state.currentForum,r=this.props.rootPath,a=ve.a.join(r,n.value.link);t.push(Object(V.a)(a,e.questionId)),this.setState(this.resetState())},t.handleSaveError=function(){this.setState({saveError:!0,saveErrorMessage:Y()("Something went wrong. Please reload the page and try again."),saving:!1})},t.handleOpen=function(){var e=this.state.showModal;this.setState((function(){return{showModal:!e}}))},t.resetState=function(){var e=this.props.currentForum,t=!e;return{showModal:!1,title:{value:"",hasError:!0},content:{value:Ce.c.create("",Q.a),hasError:!0},currentForum:{value:e,hasError:t},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:"",activeFilterId:""}},t.render=function(){var e=this,t=this.state,n=t.showModal,r=t.saving,a=t.saveError,o=t.content,s=t.showErrors,i=t.title,c=t.currentForum,l=t.saveErrorMessage,u=this.props,d=u.courseId,p=u.showSessionSelector,m=u.rootForumId,h=u.forums,f=Re.a.generateContentLengthWarning(o.value);if(!h||!h.length)return null;var b,v=Object(pe.d)("div",{className:"error-text c-modal-error-message"},l),y=null,S=c.value,E=h.filter((function(e){return!e.parentForumId||e.parentForumId===m})),C=g()(E.map((function(e){return[e].concat(h.filter((function(t){return t.parentForumId===e.id})))}))).flatten();C.length&&(y=Object(pe.d)("div",{className:"c-input-area"},Object(pe.d)(xe.a,{fieldName:Y()("Forum")}),Object(pe.d)(Ie.b,{id:"forum-selector",rootForumId:m,hasError:s&&c.hasError,handleInputChange:this.handleInputChange,forums:C,value:S,elemRefHook:this.setForumElemRef}))),p&&(b=Object(pe.d)("div",{className:"context-selector-container"},Object(pe.d)("div",{css:Object(pe.c)(te||(te=de()(["\n              float: left;\n            "]))),className:"bgcolor-divider section-divider"}),Object(pe.d)("div",{className:"c-input-area"},Object(pe.d)("h3",{className:"headline-1-text"},Y()("You're currently viewing All Sessions.")),Object(pe.d)("label",{htmlFor:"new-thread-sessions-switcher"},Object(pe.d)("span",{className:"caption-text color-secondary-text"},Y()("Which session should this thread go in?"))),Object(pe.d)(Ne.a,{id:"new-thread-sessions-switcher",hideAllSessionsOption:!0,limitSwitchingToCurrentBranch:!0,dropup:!0,handleDropdownChange:this.handleDropdownChange}))));var I=Object(pe.d)(Oe.a,{onRequestClose:this.handleCloseModal,modalName:Y()("Create a new thread"),className:"rc-NewThreadModal large"},Object(pe.d)("h1",{className:"c-modal-title headline-3-text"},Y()("Create a new thread")),Object(pe.d)("div",{className:"c-input-area"},Object(pe.d)(xe.a,{fieldName:Y()("Title")}),Object(pe.d)(Ie.c,{id:"title-input",hasError:s&&i.hasError,value:i.value,handleInputChange:this.handleInputChange,elemRefHook:this.setTitleElemRef})),Object(pe.d)("div",{className:"c-input-area"},Object(pe.d)(xe.a,{fieldName:Y()("Body")}),Object(pe.d)(Ie.a,{id:"content-input",courseId:d,hasError:s&&o.hasError,handleInputChange:this.handleInputChange,cml:o.value,elemRefHook:this.setContentElemRef})),y,b,Object(pe.d)("div",null,f,a&&v,Object(pe.d)("div",{className:"horizontal-box align-items-right"},Object(pe.d)("button",{type:"button",className:"passive",onClick:this.handleCancel},Y()("Cancel")),"  ",Object(pe.d)(Te.a,{ref:function(t){e.submitButton=t},disabled:r,className:"secondary",type:"submit",onClick:this.clearErrorsAndSubmit,trackingName:"new_thread_create"},Y()("Post")))));return Object(pe.d)("div",{className:"rc-NewThreadForm shrink-block horizontal-box align-items-right"},Object(pe.d)(Ee.a,{className:"large-screen",variant:"secondary",size:"small",component:Te.a,trackingName:"new_thread_button",withVisibilityTracking:!0,requireFullyVisible:!1,onClick:this.handleOpenModal,"aria-label":Y()("New Thread"),ref:function(t){e.newThreadButton=t}},Y()("New Thread")),Object(pe.d)(Ee.a,{className:"nostyle align-right mobile hide",variant:"ghost",size:"small",component:Te.a,trackingName:"new_thread_button",withVisibilityTracking:!0,requireFullyVisible:!1,onClick:this.handleOpenModal,"aria-label":Y()("New Thread"),ref:function(t){e.newThreadButton=t}},ne||(ne=Object(pe.d)(we.a,{name:"plus"}))),n&&I)},NewThreadButton}(c.Component));qe.contextTypes={executeAction:h.a.func.isRequired,router:h.a.object.isRequired};var ke,De,je,Ae=g.a.compose(Object(v.a)(["SessionFilterStore","ThreadsStore","ApplicationStore","CourseMembershipStore","VerificationStore","CourseStore"],(function(e,t){var n=e.SessionFilterStore,r=e.ThreadsStore,a=e.ApplicationStore,o=e.CourseMembershipStore,s=e.VerificationStore,i=e.CourseStore;return{showSessionSelector:(a.isSuperuser()||o.hasModerationRole())&&"all"===n.activeFilterQueryString,filter:n.activeFilter,threadSavingState:r.savingState,newThread:r.threadToInsert,userId:a.getUserData().id,verificationDisplay:s.getVerificationDisplay(),course:i.getMetadata(),courseId:i.getCourseId()}})),Object(P.a)({fields:["forumType","title","link"]}),Object(y.a)(z.a),Object(be.a)((function(e){var t=e.currentForum&&e.currentForum.forumType.typeName!==Q.k.rootForumType&&e.currentForum||void 0,n=e.courseForums&&e.courseForums.find((function(e){return e.forumType.typeName===Q.k.rootForumType}));return{forums:e.courseForums?e.courseForums.filter((function(e){return e.forumType.typeName!==Q.k.rootForumType})).concat(e.mentorForums).concat(e.groupForums):[],rootForumId:n&&n.id,currentForum:t,currentForumId:t&&t.id}})))(qe),Le=Object(ye.a)()(Ae),Fe=Ae,Pe=t("Who7"),Me=t("6/Gu"),Ue=t("zRby"),Be=t("kcfJ"),Qe={searchBoxContainer:Object(pe.c)(ke||(ke=de()(["\n    position: relative;\n  "]))),inputArea:function(){return Object(pe.c)(De||(De=de()(["\n    input {\n      ",";\n      border-radius: 4px 0 0 4px;\n      max-height: 36px;\n      border: 1px solid var(--cds-color-grey-600);\n      padding: var(--cds-spacing-100) var(--cds-spacing-150);\n      width: 200px !important;\n      border-right: 0;\n\n      &::placeholder {\n        color: var(--cds-color-neutral-primary-weak);\n        opacity: 1;\n      }\n    }\n\n    button {\n      border-radius: 0 4px 4px 0;\n    }\n  "])),Pe.c.bodyPrimary)}},Ve=function(e){function SearchBox(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={showBar:!1,query:""},t.handleQueryChange=function(e){t.setState({query:e})},t.handleFocus=function(){var e=t.props.animateToSearch;t.setState({showBar:!0}),e()},t.handleBlur=function(){var e=t.props.animateFromSearch;t.setState({showBar:!1}),e()},t.handleClear=function(){t.setState({query:""})},t.handleTab=function(e){var n=t.props.nextElementId,r=n&&document&&document.getElementById(n);r&&(e.preventDefault(),r.focus())},t.handleShiftTab=function(e){var n=t.props.previousElementId,r=n&&document&&document.getElementById(n);r&&(e.preventDefault(),r.focus())},t.submitSearch=function(){var e=t.state.query,n=t.context.router,r=n.location.pathname;if(e){var a=e.replace("*","");n.push({pathname:r,params:{},query:{q:a}})}},t}return i()(SearchBox,e),SearchBox.prototype.render=function(){var e=this.state,t=e.showBar,n=e.query;return t?Object(pe.d)(Ue.a,{query:n,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange,handleBlur:this.handleBlur,handleShiftTab:this.handleShiftTab,handleTab:this.handleTab,handleClear:this.handleClear,focus:!0}):Object(pe.d)("div",{className:"rc-SearchBox expand-block",css:Qe.searchBoxContainer},Object(pe.d)("div",{className:"large-screen"},Object(pe.d)(Me.a,{container:!0,direction:"row",wrap:"nowrap",className:"input-area",css:Qe.inputArea},Object(pe.d)(Be.a,{trackingName:"search_box",onClick:this.handleFocus,onFocus:this.handleFocus,placeholder:Y()("Search"),value:n,className:"search-box search-input","aria-label":Y()("Search")}),Object(pe.d)(Ee.a,{type:"submit",size:"small",onClick:this.handleFocus,className:"search-button","aria-label":Y()("expand search box")},Y()("Search")))),Object(pe.d)("div",{className:"mobile hide horizontal-box align-items-right"},Object(pe.d)(Ee.a,{type:"button",size:"small",variant:"ghost",className:"nostyle search-button mobile hide",onClick:this.handleFocus,"aria-label":Y()("Expand Search Box")},je||(je=Object(pe.d)("i",{className:"cif-search"})))))},SearchBox}(c.Component);Ve.contextTypes={router:h.a.object.isRequired};var ze,Ge,Je,We=Ve,_e=(t("xTUI"),Q.l.mostRecentSort),He=Q.l.popularSort,Ke=Q.l.unansweredSort,Xe={leftSection:function(){return Object(pe.c)(ze||(ze=de()(["\n    padding-left: var(--cds-spacing-300);\n  "])))},rightSection:function(){return Object(pe.c)(Ge||(Ge=de()(["\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    padding: var(--cds-spacing-150) 0;\n\n    // This is a workaround to override the margin of the new thread button without impacting other pages\n    .rc-NewThreadForm .c-new-thread-button {\n      margin: 0 !important;\n    }\n  "])))}},components_ControlsBar=function(e){var t=e.sort,n=void 0===t?_e:t,r=e.showSearchBox,a=void 0===r||r,o=e.inSearch,s=e.toggleSearch,i=e.loadingState,l=Object(me.b)(),d=Object(c.useState)(""),p=le()(d,2),m=p[0],h=p[1];Object(c.useEffect)((function(){var e=ie()(ie()(ie()({},_e,Y()("latest")),He,Y()("top")),Ke,Y()("unanswered"));i===Q.j.DONE&&h(Y()("Discussions are sorted by #{sort}",{sort:e[n]})),i===Q.j.LOADING&&h("")}),[i,n]);var f=u()("rc-ControlsBar","styleguide","horizontal-box","align-items-vertical-center",{"in-search-mode":o});return Object(pe.d)("div",{className:f},Object(pe.d)("div",{className:"shrink-block",css:Xe.leftSection},Object(pe.d)(he.a,{defaultValue:n,id:"sortOrder",onChange:function(e){var t=window.location.pathname+"?sort="+e.target.value+"&page=1";l.push(t)},label:Y()("Sort by")},Object(pe.d)(fe.a,{key:_e,value:_e},Y()("Latest")),Object(pe.d)(fe.a,{key:He,value:He},Y()("Top")),Object(pe.d)(fe.a,{key:Ke,value:Ke},Y()("Unanswered"))),Object(pe.d)(ge.a,{role:"status","aria-live":"polite",component:"span",className:"rc-A11yScreenReaderOnly"},m)),Object(pe.d)("div",{className:"flex-1",css:Xe.rightSection},a&&Object(pe.d)(We,{previousElementId:"sortOrder",nextElementId:"new-thread-btn",animateToSearch:s,animateFromSearch:s}),Je||(Je=Object(pe.d)(Le,null))))},Ye=t("OrSE"),Ze=t("aiGB"),$e=t("o3w6"),et=(t("7L9e"),t("ksta"),function(e){function ThreadsList(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={inSearch:!1},t.onPageChange=function(e){t.context.router.push({pathname:t.context.router.location.pathname,params:{},query:Object.assign(t.context.router.location.query,{page:e})})},t.toggleSearch=function(){t.setState({inSearch:!t.state.inSearch})},t.renderEntry=function(e){var n=t.props,r=n.activeFilterQueryString,a=n.courseForums,o=n.mentorForums,s=n.groupForums,i=n.currentForum,l=n.currentForumUrl,u=e.lastAnsweredAt&&e.lastAnsweredBy,d=!J.a.hasUnread(e),p=u?e.lastAnsweredBy:e.creator,m=u?Y()("Last post by"):Y()("Created by"),h=a.concat(o).concat(s).find((function(t){return t.forumId===e.forumId})),f=h&&i.id!==h.id&&h.title||void 0,g=V.k(l,e),b=void 0!==e.answerCount&&!isNaN(e.answerCount)?e.answerCount:e.totalAnswerCount;return c.createElement(Ze.a,{key:e.id+r,threadUrl:g,profile:p,timestamp:e.lastAnsweredAt||e.createdAt,threadName:e.content.question,questionId:e.id,questionUserId:e.creatorId,entry:e,isPinned:!(!e.state||!e.state.pinned),isDeleted:!(!e.state||!e.state.deleted),isRead:d,forumName:f,metadataLabel:m,viewCount:Math.max(b,e.viewCount),answerCount:b,badge:e.answerBadge.answerBadge})},t}i()(ThreadsList,e);var t=ThreadsList.prototype;return t.componentWillMount=function(){var e=this.props,t=e.sort,n=e.page,r=e.currentForum,a=e.activeFilterQueryString;this.context.executeAction(oe.c,{filterQueryString:a,sort:t,pageNum:n,forumType:r&&r.forumType.typeName,forumId:r&&r.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})},t.componentWillUpdate=function(e,t,n){if(this.props.sort!==e.sort||this.props.page!==e.page||this.props.currentForumId!==e.currentForumId||this.props.activeFilterQueryString!==e.activeFilterQueryString){var r=this.props.currentForum;this.context.executeAction(oe.c,{filterQueryString:e.activeFilterQueryString,sort:e.sort,pageNum:e.page,forumType:r&&r.forumType.typeName,forumId:r&&r.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})}},t.render=function(){var e=this.context.router.isActive({pathname:V.c()});return(c.createElement("div",{className:"rc-ThreadsList styleguide horizontal-box"},c.createElement("div",{className:"flex-2"},c.createElement("div",{className:"card-rich-interaction"},c.createElement(components_ControlsBar,{sort:this.props.sort,inSearch:this.state.inSearch,toggleSearch:this.toggleSearch,showSearchBox:!e,loadingState:this.props.loadingState}),c.createElement(Ye.a,{emptyStatePlaceholderText:Y()("No Posts Yet"),fossilized:this.state.inSearch,loadingState:this.props.loadingState},this.props.entries&&this.props.entries.map(this.renderEntry))),c.createElement($e.a,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5}))))},ThreadsList}(c.Component));et.propTypes={courseForums:h.a.arrayOf(h.a.instanceOf(H.a)),mentorForums:h.a.arrayOf(h.a.instanceOf(K.a)),groupForums:h.a.arrayOf(h.a.instanceOf(W.a)),currentForumId:h.a.string,currentForum:h.a.oneOfType([h.a.instanceOf(H.a),h.a.instanceOf(K.a),h.a.instanceOf(W.a)]),sort:h.a.string.isRequired,page:h.a.number.isRequired,entries:h.a.array,loadingState:h.a.oneOf(Object.keys(Q.j)),pageCount:h.a.number,activeFilterQueryString:h.a.string,userId:h.a.number,hasModerationRole:h.a.bool,currentForumUrl:h.a.string},et.contextTypes={executeAction:h.a.func.isRequired,router:h.a.object.isRequired};var tt=Object(f.compose)(Object(v.a)(["SessionFilterStore","ThreadsStore","ApplicationStore"],(function(e){var t=e.SessionFilterStore,n=e.ThreadsStore,r=e.ApplicationStore;return{activeFilterQueryString:t.activeFilterQueryString,entries:n.getThreadsPage(),loadingState:n.getLoadingState(),pageCount:n.getPageCount(),userId:r.getUserData().id}})),Object(P.a)({fields:["title","link","forumType"],subcomponents:[Fe]}),Object(y.a)(z.a),Object(ae.a)((function(e){return!!(void 0!==e.activeFilterQueryString&&e.sort&&e.page&&e.currentForum)})))(et),nt=t("ypD2");t.d(e,"a",(function(){return ot}));var rt=function(e){i()(DiscussionsBody,e);var t=DiscussionsBody.prototype;function DiscussionsBody(t,n){var r;return(r=e.call(this,t,n)||this).state={},!t.isSessionsFilterStoreSetup&&t.hasModerationRole&&n.executeAction(E.a,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),t.isSessionsFilterStoreSetup||t.hasModerationRole||n.executeAction(E.b,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),r}return t.getChildContext=function(){return{fluxibleContext:this.context.fluxibleContext||this.props.fluxibleContext}},t.componentWillReceiveProps=function(e){!this.props.questionId&&e.questionId&&this.props.listPage?this.setState({previousListPage:this.props.listPage}):this.props.questionId!==e.questionId&&this.setState({previousListPage:null})},t.renderSearchResults=function(){var e=this,t=this.props,n=t.searchPage,r=t.q;return c.createElement(nt.a,{query:r,page:n,ref:function(t){e.searchResults=t}})},t.renderThreadsList=function(){var e=this,t=this.props,n=t.hasModerationRole,r=t.listPage,a=t.listSort;return c.createElement(tt,{ref:function(t){e.threadsList=t},hasModerationRole:n,sort:a,page:r})},t.renderThreadDetail=function(){var e=this,t=this.props,n=t.questionId,r=t.answerId,a=t.commentId,o=t.detailPage,s=t.detailSort,i=t.listSort,l=t.listPage,u=t.q,d=t.backLink,m=new p.a(d).addQueryParam("sort",i).addQueryParam("page",this.state.previousListPage||l).addQueryParam("q",u).toString();return c.createElement(re,{ref:function(t){e.threadDetail=t},questionId:n,answerId:r,commentId:a,sort:s,page:o,backLink:m})},t.render=function(){var e=this.props.q,t=this.props,n=t.role,r=t.questionId;return c.createElement("div",o()({className:u()("rc-DiscussionsBody","styleguide",this.props.className),id:"discussions-tabpanel","aria-label":Y()("Discussions")},n?{role:n}:{}),r&&this.renderThreadDetail(),!r&&(e?this.renderSearchResults():this.renderThreadsList()))},DiscussionsBody}(c.Component);rt.propTypes={backLink:h.a.string,className:h.a.string,questionId:h.a.string,answerId:h.a.string,commentId:h.a.string,sort:h.a.string,page:h.a.number,detailSort:h.a.string,detailPage:h.a.number,listSort:h.a.string,listPage:h.a.number,q:h.a.string,searchPage:h.a.number,fluxibleContext:h.a.object,courseId:h.a.string,currentSessionId:h.a.string,hasModerationRole:h.a.bool,isPrivateSession:h.a.bool,isSessionsFilterStoreSetup:h.a.bool},rt.contextTypes={router:h.a.object.isRequired,fluxibleContext:h.a.object,executeAction:h.a.func.isRequired},rt.childContextTypes={fluxibleContext:h.a.object},rt.defaultProps={detailSort:Q.g.detailSort,detailPage:Q.g.detailPage,listSort:Q.g.listSort,listPage:Q.g.listPage};var at=Object(f.compose)(Object(v.a)(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],(function(e,t){var n=e.SessionFilterStore,r=e.SessionStore,a=e.CourseStore,o=e.CourseMembershipStore,s=e.ApplicationStore;return{hasModerationRole:o.hasModerationRole()||s.isSuperuser(),isSessionsFilterStoreSetup:n.filtersLoaded,currentSessionId:r.isEnrolled()?r.getSessionId():void 0,courseId:a.getCourseId(),isPrivateSession:!!r.isEnrolled()&&r.isSessionPrivate()}})),Object(y.a)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.params,r=e.location.query,a=n.question_id||t.questionId,o=r.page?parseInt(r.page,10):1,s={answerId:n.answer_id||t.answerId,questionId:a,commentId:n.comment_id||t.commentId,sort:r.sort,page:o};return a?Object.assign(s,{detailSort:r.sort,detailPage:o}):r.q?Object.assign(s,{q:r.q,searchPage:o}):Object.assign(s,{listSort:r.sort,listPage:o}),s})),S.b.createTrackedContainer((function(e){return{sort:e.sort,page:e.page}})))(rt),ot=function(e){function FluxibleConnectedDiscussionsBody(){return e.apply(this,arguments)||this}i()(FluxibleConnectedDiscussionsBody,e);var t=FluxibleConnectedDiscussionsBody.prototype;return t.componentWillMount=function(){this.fluxibleContext=Object(C.a)(this.context.fluxibleContext)},t.render=function(){return c.createElement(b.a,{context:this.fluxibleContext.getComponentContext()},c.createElement(at,this.props))},FluxibleConnectedDiscussionsBody}(c.Component);ot.contextTypes={fluxibleContext:h.a.object}},QXTe:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),a=t("q1tI"),o=t("17x9"),s=t.n(o),i=t("F/us"),c=t("8cuT"),l=t("GP6s"),u=t.n(l),d=function(e){function SessionDetails(){return e.apply(this,arguments)||this}return r()(SessionDetails,e),SessionDetails.prototype.render=function(){return this.props.hasSession?a.createElement("div",{className:"rc-SessionDetails mentor-message align-horizontal-center"},u()("This thread is visible to all learners.")):null},SessionDetails}(a.Component);d.propTypes={hasSession:s.a.bool},e.a=Object(i.compose)(Object(c.a)(["SessionFilterStore"],(function(e,t){var n=e.SessionFilterStore,r=t.question;return{hasSession:!!(n.allSessions&&n.allSessions.find((function(e){return e.id===r.sessionId})))}})))(d)},RurG:function(module,e,t){"use strict";var n,r=t("q1tI"),a=t.n(r),o=t("ZJgU"),s=t("dVlM"),i=t("GP6s"),c=t.n(i);e.a=function(e){var t=e.handleClick,r=e.text,i=e.creator,l=null!=i&&i.fullName?c()("#{text} to #{userName}'s post",{text:r,userName:null==i?void 0:i.fullName}):r;return a.a.createElement(o.a,{className:"rc-ReplyButton",onClick:t,"aria-label":l,variant:"ghost",size:"small",iconPosition:"before",icon:n||(n=a.a.createElement(s.a,{size:"small"}))},r)}},TVlg:function(module,exports,e){e("ep7w")},Yf05:function(module,e,t){"use strict";var n,r,a=t("VbXa"),o=t.n(a),s=t("3tO9"),i=t.n(s),c=t("q1tI"),l=t("17x9"),u=t.n(l),d=t("F/us"),p=t.n(d),m=t("ngyh"),h=t("8cuT"),f=t("+LJP"),g=t("8/1n"),b=t("W1i5"),v=t("++Ya"),y=t("sQ/U"),S=t("EdUP"),E=t("kvW3"),C=t("loer"),I=t("JacN"),x=t("fw5G"),N=t.n(x),R=t("S+eF"),w=t.n(R),T=t("v6sC"),O=t("rcV8"),q=t("VTZa"),k=t("ZJgU"),D=t("NMx/"),j=t("2BcA"),A=t("GqWO"),L=t("oEt1"),F=t("q5zD"),P=t("GP6s"),M=t.n(P),U=function(e){function RespondedLearnersImageBaseComponent(){return e.apply(this,arguments)||this}o()(RespondedLearnersImageBaseComponent,e);var t=RespondedLearnersImageBaseComponent.prototype;return t.renderMorePeopleImage=function(){if(this.props.responseCount>4){var e=Object(L.a)(this.props.responseCount-4,!0);return(c.createElement("li",{className:"bgcolor-black-g5"},c.createElement("div",{className:"horizontal-box align-items-absolute-center num-responder-images caption-text"},"+",e)))}return null},t.render=function(){var e=this.props.answers,t=e&&e.filter((function(e,t){return t<4})).map((function(e){var t,n;return{image:null===(t=e.creator)||void 0===t?void 0:t.photoUrl,name:null===(n=e.creator)||void 0===n?void 0:n.fullName}}));return t&&0!==t.length?c.createElement("ul",{className:"nostyle horizontal-box align-items-absolute-center learner-image-list","aria-hidden":"true"},t.map((function(e){var t=e.name,n=e.image;return(c.createElement("li",{key:t},c.createElement(q.a,{variant:"user",initial:t,size:36,imgProps:{src:n}})))})),this.renderMorePeopleImage()):null},RespondedLearnersImageBaseComponent}(c.Component);U.propTypes={responseCount:u.a.number.isRequired,answers:u.a.array};var B=function(e){function Input(){return e.apply(this,arguments)||this}return o()(Input,e),Input.prototype.render=function(){var e=this.props,t=e.question,n=e.savingState,r=e.placeholder;return(c.createElement("div",{className:"horizontal-box align-items-left theme-light c-prompt-card"},c.createElement(D.a,{hideFollow:!0,question:t,parentPost:t,savingState:n,placeholder:M()(r)})))},Input}(c.Component);B.propTypes={placeholder:u.a.string.isRequired,question:u.a.object.isRequired,savingState:u.a.string.isRequired};var Q=function(e){function Saving(){return e.apply(this,arguments)||this}return o()(Saving,e),Saving.prototype.render=function(){return c.createElement("div",{className:"horizontal-box align-items-absolute-center bgcolor-white c-prompt-card color-hint-text"},n||(n=c.createElement(F.a,{name:"spinner",className:"cif-spin"})),c.createElement("span",{className:"caption-text"},M()("Submitting Your Response")))},Saving}(c.Component),V=function(e){function CompletedBaseComponent(){return e.apply(this,arguments)||this}return o()(CompletedBaseComponent,e),CompletedBaseComponent.prototype.render=function(){var e=this.props.url;return(c.createElement("div",{className:"vertical-box align-items-absolute-center bgcolor-white c-prompt-card",role:"alert"},c.createElement("span",{className:"color-secondary-text"},M()("Your response has been submitted. Engage and discuss with other learners below!")),this.props.url&&c.createElement(c.Fragment,null,r||(r=c.createElement("br",null)),c.createElement(k.a,{variant:"secondary",component:"a",href:e},M()("View My Response")))))},CompletedBaseComponent}(c.Component);V.propTypes={showLink:u.a.bool,questionId:u.a.string.isRequired,url:u.a.string};var z,G,J={Input:B,Saving:Q,Completed:p.a.compose(Object(O.a)((function(e){if(e.showLink){var t=Object(T.a)("/api/onDemandCourseForumAnswers.v1/",{type:"rest"}),n=[e.userId,e.courseId,e.questionId].join("~"),r=(new N.a).addQueryParam("q","byForumQuestionId").addQueryParam("userCourseQuestionId",n).addQueryParam("sort","createdAtAsc").addQueryParam("creatorId",e.userId).toString();return w()(t.get(r)).then((function(e){return e.elements.length?{url:Object(A.b)(e.elements[0].forumAnswerId)}:{url:void 0}}))}return w()({url:void 0})})))(V),RespondedLearnersImage:p.a.compose(Object(h.a)(["ThreadDetailsStore"],(function(e,t){var n=e.ThreadDetailsStore,r=t.questionId,a=t.page;return{answers:n.getReplies(r,a,j.c.newestSort)||[]}})))(U)},W=J.Completed,H=J.RespondedLearnersImage,K=t("abvH"),X=t("BZ+2"),Y=t("MIcm"),Z=(t("f8sV"),function(e){function DiscussionPrompt(t,n){var r;return(r=e.call(this,t,n)||this).state={savingState:Y.d.UNCHANGED,forumError:!1},r}o()(DiscussionPrompt,e);var t=DiscussionPrompt.prototype;return t.componentDidMount=function(){this.props.isLoaded&&(this.setState({questionId:this.props.questionId}),this.fetchAnswers(this.props.questionId,j.c.newestSort,this.props.page))},t.componentWillReceiveProps=function(e){var t=this.state.questionId;this.setState({savingState:e.savingStates[t]||Y.d.UNCHANGED}),t&&this.props.savingStates[t]===Y.d.SAVING&&e.savingStates[t]===Y.d.SAVED&&this.fetchAnswers(t,j.c.newestSort,this.props.page)},t.componentDidUpdate=function(e,t){var n=this.props,r=n.questionId,a=n.page;e.page!==a&&this.fetchAnswers(r,j.c.newestSort,a)},t.fetchAnswers=function(e,t,n){var r=this.props,a=r.courseId,o=r.courseSlug,s=r.currentForum;(0,this.context.executeAction)(I.b,{questionId:e,courseId:a,courseSlug:o,sort:t,page:n,contextId:a,userId:y.a.get().id,forumType:s.forumType.typeName})},t.renderLoading=function(){return z||(z=c.createElement("div",{className:"vertical-box align-items-vertical-center"},c.createElement(F.a,{name:"spinner",className:"cif-spin cif-3x"})))},t.renderInput=function(){var e=this.props,t=e.learnerCount,n=e.question,r=e.questionId,a=e.page,o=t>0;return c.createElement("div",null,c.createElement("div",{className:"color-hint-text participation-text"},M()("Participation is optional")),c.createElement(B,{savingState:this.state.savingState,question:n,placeholder:M()("Type your response here...")}),c.createElement(H,{responseCount:t,questionId:r,page:a}),c.createElement("div",{className:"horizontal-box align-items-absolute-center caption-text color-secondary-text","aria-labelledby":"submissions-made-count-message"},o?c.createElement("div",{id:"submissions-made-count-message"},c.createElement(E.c,{value:t})," ",c.createElement(E.b,{message:M()("{learnerCount, plural, =1 { learner has} other { learners have}} submitted a response."),learnerCount:t})):c.createElement("div",{id:"submissions-made-count-message"},M()("Be the first to submit a response"))))},t.renderError=function(){return c.createElement("div",{className:"horizontal-box align-items-absolute-center bgcolor-white c-prompt-card"},c.createElement("span",{className:"caption-text color-secondary-text"},M()("Sorry, we were unable to retrieve a forum.")))},t.renderCompleted=function(){var e=this.props,t=e.questionId,n=e.previouslyCompleted,r=e.page,a=e.currentForum,o=e.answerId,s=e.currentForumUrl,i=e.courseId;return(c.createElement("div",null,c.createElement(W,{showLink:n,questionId:t,userId:y.a.get().id,courseId:i}),c.createElement("div",{className:"c-thread-container"},c.createElement(K.a,{sort:j.c.newestSort,page:r,forumId:a.id,questionId:t,answerId:o,forumLink:s}))))},t.renderContent=function(){var e=this.state.savingState;return e===Y.d.SAVED||this.props.previouslyCompleted?this.renderCompleted():e===Y.d.UNCHANGED||e===Y.d.ERROR||e===Y.d.INVALID_TERM_ERROR||Y.d.RATE_LIMIT_ERROR||Y.d.USER_BLOCKED_ERROR?this.renderInput():e===Y.d.SAVING&&(G||(G=c.createElement(Q,null)))},t.renderBody=function(){var e=this.props.promptContent;return(c.createElement("div",null,c.createElement("span",null,c.createElement(C.a,{cml:e})),this.renderContent()))},t.render=function(){var e=this.props.isLoaded,t=this.state.forumError;return c.createElement("div",{className:"rc-DiscussionPrompt"},!t&&(e?this.renderBody():this.renderLoading()),t&&this.renderError())},DiscussionPrompt}(c.Component));Z.propTypes={savingStates:u.a.object.isRequired,previouslyCompleted:u.a.bool.isRequired,page:u.a.number,answerId:u.a.string,courseId:u.a.string,courseSlug:u.a.string,currentForum:u.a.instanceOf(X.a),currentForumUrl:u.a.string,questionId:u.a.string,question:u.a.object,promptContent:u.a.object,learnerCount:u.a.number,isLoaded:u.a.bool},Z.contextTypes={executeAction:u.a.func.isRequired,router:u.a.object.isRequired};var ee=Z,te=t("PStO"),ne=t("HlCP"),re=function(e){function OnDemandDiscussionPromptQuestions(){return e.apply(this,arguments)||this}return o()(OnDemandDiscussionPromptQuestions,e),OnDemandDiscussionPromptQuestions}(ne.a);re.RESOURCE_NAME="onDemandDiscussionPromptQuestions.v1",re.DEFAULT_FIELDS=["content","creatorId","createdAt","forumId","sessionId","lastAnsweredBy","lastAnsweredAt","totalAnswerCount","topLevelAnswerCount","viewCount"];var ae=re,oe=function(e){function OnDemandDiscussionPrompts(){return e.apply(this,arguments)||this}return o()(OnDemandDiscussionPrompts,e),OnDemandDiscussionPrompts}(ne.a);oe.RESOURCE_NAME="onDemandDiscussionPrompts.v1",oe.DEFAULT_INCLUDES=["question"],oe.DEFAULT_FIELDS=["promptType","".concat(ae.RESOURCE_NAME,"(").concat(ae.DEFAULT_FIELDS.join(","),")")];var se=oe,ie=p.a.compose(te.b.createContainer((function(e){var t=e.itemMetadata,n=t.getId(),r=t.get("course").get("id");return{prompt:se.get(Object(v.c)([y.a.get().id,r,n]),{includes:se.DEFAULT_INCLUDES,fields:se.DEFAULT_FIELDS})}})),te.b.createContainer((function(e){var t=e.prompt;if(!t||!t.promptType)return{};var n=t.promptType.definition.courseItemForumQuestionId,r=[t.userId,n].join("~");return{discussionPromptQuestion:ae.localGet(r,{fields:ae.DEFAULT_FIELDS})}})),Object(S.a)((function(e){return!!e.discussionPromptQuestion})),Object(b.a)((function(e){var t=e.discussionPromptQuestion,n=t&&t.id.split("~")[3];return{isLoaded:!0,questionId:n,question:{id:n,questionId:n,type:"question",forumType:j.k.rootForumType},promptContent:t&&t.content.details,learnerCount:t&&t.totalAnswerCount}})))(ee),ce=t("5+aF"),le=t("ii1C");t.d(e,"a",(function(){return de}));var ue=Object(d.compose)(Object(ce.a)({fields:["forumType","urlId"]}),Object(f.a)((function(e,t){return i()(i()({},Object(le.a)(e,t)),{},{page:e.location.query.page?parseInt(e.location.query.page,10):1,answerId:e.location.query.answerId?e.location.query.answerId:void 0})})),Object(h.a)(["ThreadDetailsStore"],(function(e,t){var n=e.ThreadDetailsStore;t.itemMetadata;return{savingStates:Object.assign({},n.savingStates)}})))(ie),de=function(e){function FluxibleConnectedDiscussionPrompt(){return e.apply(this,arguments)||this}o()(FluxibleConnectedDiscussionPrompt,e);var t=FluxibleConnectedDiscussionPrompt.prototype;return t.componentWillMount=function(){this.fluxibleContext=Object(g.a)(this.context.fluxibleContext)},t.render=function(){return c.createElement(m.a,{context:this.fluxibleContext.getComponentContext()},c.createElement(ue,this.props))},FluxibleConnectedDiscussionPrompt}(c.Component);de.contextTypes={fluxibleContext:u.a.object}},YmRV:function(module,exports,e){},abvH:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),a=t("VkAN"),o=t.n(a),s=t("OhL7"),i=t("q1tI"),c=t("17x9"),l=t.n(c),u=t("8cuT"),d=t("Gok7"),p=t("OrSE"),m=t("lSNA"),h=t.n(m),f=t("J4zp"),g=t.n(f),b=t("vXr1"),v=t("He/R"),y=t("fguj"),S=t("2BcA"),E=t("GP6s"),C=t.n(E),I=S.c.oldestSort,x=S.c.popularSort,N=S.c.newestSort,R={selectField:function(e){return Object(s.c)({margin:"var(--cds-spacing-300) 0 var(--cds-spacing-150) var(--cds-spacing-300)"})}},repliesList_GradedDiscussionPromptAnswersSortBar=function(e){var t=e.sort,n=e.loadingState,r=Object(b.b)(),a=Object(i.useState)(""),o=g()(a,2),c=o[0],l=o[1];Object(i.useEffect)((function(){var e=h()(h()(h()({},S.c.oldestSort,C()("earliest")),S.c.popularSort,C()("top")),S.c.newestSort,C()("most recent"));n===S.j.DONE&&l(C()("Submissions are sorted by #{sort}",{sort:e[t]})),n===S.j.LOADING&&l("")}),[n,t]);return Object(s.d)("div",{className:"graded-discussion-prompt-replies-sort-dropdown"},Object(s.d)(v.a,{id:"answer-sort-select",label:C()("Sort by"),value:t,onChange:function(e){r.push({pathname:r.location.pathname,params:r.params,query:Object.assign(r.location.query,{sort:e.target.value})})},css:R.selectField},Object(s.d)(y.a,{value:I},C()("Earliest")),Object(s.d)(y.a,{value:x},C()("Top")),Object(s.d)(y.a,{value:N},C()("Most Recent"))),Object(s.d)(d.a,{role:"status","aria-live":"polite",component:"span",className:"rc-A11yScreenReaderOnly"},c))},w=t("TSYQ"),T=t.n(w),O=(t("TVlg"),S.c.oldestSort),q=S.c.popularSort,k=S.c.newestSort,D=S.i.allPosts,j=S.i.mySubmissionsOnly,RepliesSortBar_generateUrl=function(e,t,n){return e===S.k.gradedDiscussionPrompt?window.location.pathname+"?sort="+t+"&page=1&type="+n:window.location.pathname+"?sort="+t+"&page=1"},RepliesSortBar_generateClassNames=function(e,t){return T()("tab",{selected:e===t})},generateTabId=function(e){return"reply-tab~".concat(e)},A=function(e){function RepliesSortBar(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).tabRefs=[],t.handleLinkNavigation=function(e){var n=t.context.router;e.preventDefault();var r=e.target.href.replace(window.location.origin,"");n.push(r)},t.handleTabKeyboardControls=function(e){var n=t.tabRefs.indexOf(e.target);if(-1!==n)switch(e.key){case"ArrowRight":var r;e.preventDefault();var a=n===t.tabRefs.length-1?0:n+1;null===(r=t.tabRefs[a])||void 0===r||r.focus();break;case"ArrowLeft":var o;e.preventDefault();var s=0===n?t.tabRefs.length-1:n-1;null===(o=t.tabRefs[s])||void 0===o||o.focus();break;case"Home":var i;e.preventDefault(),null===(i=t.tabRefs[0])||void 0===i||i.focus();break;case"End":var c;e.preventDefault(),null===(c=t.tabRefs[t.tabRefs.length-1])||void 0===c||c.focus()}},t}return r()(RepliesSortBar,e),RepliesSortBar.prototype.render=function(){var e=this,t=this.props,n=t.sort,r=t.forumType,a=t.forumTypeSetting,o=T()("rc-RepliesSortBar","horizontal-box","align-items-spacebetween"),s=RepliesSortBar_generateClassNames(n,O),c=RepliesSortBar_generateClassNames(n,q),l=RepliesSortBar_generateClassNames(n,k),u=RepliesSortBar_generateClassNames(a,D),d=RepliesSortBar_generateClassNames(a,j),p=i.createElement("ul",{className:"tabs flex-2 shrink-block sorting-tabs horizontal-box",role:"tablist",onKeyDown:this.handleTabKeyboardControls,"aria-label":C()("Discussion Filters")},i.createElement("li",{className:s,role:"none"},i.createElement("a",{id:generateTabId(O),title:"Show oldest replies.",role:"tab",href:RepliesSortBar_generateUrl(r,O),ref:function(t){return e.tabRefs[0]=t},onClick:this.handleLinkNavigation,"aria-controls":n===O?"replies-list-tabpanel":void 0,"aria-selected":n===O,tabIndex:n===O?0:-1},C()("Earliest"))),i.createElement("li",{className:c,role:"none"},i.createElement("a",{id:generateTabId(q),title:"Show most popular replies.",role:"tab",href:RepliesSortBar_generateUrl(r,q),ref:function(t){return e.tabRefs[1]=t},onClick:this.handleLinkNavigation,"aria-controls":n===q?"replies-list-tabpanel":void 0,"aria-selected":n===q,tabIndex:n===q?0:-1},C()("Top"))),i.createElement("li",{className:l,role:"none"},i.createElement("a",{id:generateTabId(k),title:"Show latest replies.",role:"tab",href:RepliesSortBar_generateUrl(r,k),ref:function(t){return e.tabRefs[2]=t},onClick:this.handleLinkNavigation,"aria-controls":n===k?"replies-list-tabpanel":void 0,"aria-selected":n===k,tabIndex:n===k?0:-1},C()("Most Recent")))),m=i.createElement("ul",{className:"tabs flex-2 shrink-block sorting-tabs horizontal-box",role:"tablist",onKeyDown:this.handleTabKeyboardControls,"aria-label":C()("Discussion Filters")},i.createElement("li",{className:u,role:"none"},i.createElement("a",{id:generateTabId(D),title:"All Submissions",role:"tab",href:RepliesSortBar_generateUrl(r,n,D),ref:function(t){return e.tabRefs[0]=t},onClick:this.handleLinkNavigation,"aria-controls":a===D?"replies-list-tabpanel":void 0,"aria-selected":a===D,tabIndex:a===D?0:-1},C()("All Submissions"))),i.createElement("li",{className:d,role:"none"},i.createElement("a",{id:generateTabId(j),title:"My Submissions Only",role:"tab",ref:function(t){return e.tabRefs[1]=t},href:RepliesSortBar_generateUrl(r,n,j),onClick:this.handleLinkNavigation,"aria-controls":a===j?"replies-list-tabpanel":void 0,"aria-selected":a===j,tabIndex:a===j?0:-1},C()("My Submissions")))),h=r===S.k.gradedDiscussionPrompt;return i.createElement("div",{className:o},h?m:p)},RepliesSortBar}(i.Component);A.contextTypes={router:l.a.object.isRequired,executeAction:l.a.func.isRequired};var L,F=A,P=t("sQ/U"),M=t("6JtA"),U=t("Jrms"),B=t("JacN"),Q=t("EVdn"),V=t.n(Q),z=t("kvW3"),G=t("6/Gu"),J=t("d715"),W=t("y9wT"),H=t("kRCD"),K=t("RurG"),X=t("py0D"),Y=t("eJMc"),Z=t.n(Y),ee=t("JYi1"),te=t("l1rq"),ne=t("WfWN"),re=t("9Vms"),ae=t("UPAY"),oe=t("IaEU"),se=t("d82X"),ie=t("NQhL"),ce=t("GqWO"),le=t("tag9"),ue=t("UJKB"),de={miniProfile:Object(s.c)(L||(L=o()(["\n    position: absolute;\n    z-index: 1;\n  "])))},profiles_ReplyProfileInformation=function(e){var t=e.courseRole,n=e.externalUserId,r=e.fullName,a=e.helperStatus,o=e.profileImageUrl,c=e.profileLinkId,l=Object(ee.a)(ae.a,(function(e){return{profile:e.profiles.find((function(e){return e.externalId===n}))}})).profile,u=Object(i.useState)(!1),d=g()(u,2),p=d[0],m=d[1],h=Object(oe.b)(t,a),f=Object(ue.a)(h,Object(oe.a)(h)),b=t&&l&&Object(ne.b)(t,l),v=void 0!==f,y=Object(ue.c)(h),S="Name: ".concat(r,",\n                     ").concat(v?"Role: ".concat(f,", "):"","\n                     ").concat(!y&&b?"Progress: ".concat(b,", "):"","\n                     ").concat(l?"".concat(l.postsCount," posts, "):"","\n                     ").concat(l?"".concat(l.votesReceivedCount," votes"):""),E="".concat(n,"-tooltip");Object(i.useEffect)((function(){var onEscape=function(e){"Escape"===e.key&&m(!1)};return document.addEventListener("keydown",onEscape,!1),function(){document.removeEventListener("keydown",onEscape,!1)}}),[]);var C=r&&Object(le.a)(r)||"--",I=Object(oe.a)(h);return Object(s.d)(i.Fragment,null,Object(s.d)(Z.a,{className:"pii-hide",id:c,to:Object(ce.p)(n),onMouseEnter:function(){m(!0)},onFocus:function(){return m(!0)},onMouseLeave:function(){return m(!1)},onBlur:function(){return m(!1)},"aria-label":S,role:"link"},Object(s.d)(G.a,{container:!0,direction:"row",alignItems:"center",spacing:12},Object(s.d)(G.a,{item:!0},Object(s.d)(ie.a,{initials:C,photoUrl:o,name:r})),Object(s.d)(G.a,{item:!0},Object(s.d)(te.a,{component:"span",variant:"subtitleMedium"},r)),I&&Object(s.d)(G.a,null,Object(s.d)(se.a,{label:I,badge:h})))),Object(s.d)("span",{"data-js":"mini-profile","aria-hidden":"true",css:de.miniProfile},Object(s.d)(re.a,{source:"ReplyProfileInformation",externalId:n,courseRole:h,toolTipId:E,showMini:p,profileImageUrl:o,fullName:r})))},pe=t("6FM8"),me=function(e){function JumpToReply(){return e.apply(this,arguments)||this}return r()(JumpToReply,e),JumpToReply.prototype.render=function(){var e=this.props,t=e.reply,n=e.forumLink,r=e.fetchAnswerPosition,a=Object(ce.a)(n,t.questionId,t.topLevelForumAnswerId,t.forumCommentId);return i.createElement("div",{className:"rc-JumpToReply align-self-end"},i.createElement(Z.a,{to:a,title:C()("Jump to post"),onClick:function(){return r(t.topLevelForumAnswerId)}},C()("Jump to post")))},JumpToReply}(i.Component);me.propTypes={reply:pe.b.isRequired,forumLink:l.a.string.isRequired,fetchAnswerPosition:l.a.func.isRequired};var he,fe=me,ge=t("PJYZ"),be=t.n(ge),ve=t("++Ya"),ye=t("RT5p"),Se=t("lhW+"),Ee=t("KGmO"),Ce=t("7/QA"),Ie=(t("4SrI"),function(e){function ReplyCMLEdit(t,n){var r;(r=e.call(this,t,n)||this).focusOnEditor=function(){var e,t,n;null===(e=be()(r))||void 0===e||null===(t=e.editorElemRef)||void 0===t||null===(n=t.focus)||void 0===n||n.call(t)},r.handleSubmit=function(){r.state.hasErrors?r.focusOnEditor():(r.setState({submitEnabled:!1}),r.context.executeAction(Se.b,{reply:r.props.reply,content:r.state.cml,handleFailure:r.onSubmitError,onSuccess:r.onSubmitSuccess}))},r.handleCancel=function(){r.hideEdit()},r.handleInputChange=function(e){r.setState({cml:e,hasErrors:!Ce.a.validateLength(e),submitEnabled:e.definition.value!==r.state.initialValue})},r.onSubmitError=function(e){var t;r.setState({submitError:!0,submitEnabled:!0,saveErrorMessage:Object(Ce.c)(null==e?void 0:null===(t=e.responseJSON)||void 0===t?void 0:t.errorCode)})},r.onSubmitSuccess=function(){var e,t;null===(e=(t=r.props).onSubmitSuccess)||void 0===e||e.call(t)};var a=t.reply.content,o=a;if(!a||!a.typeName){var s="<co-content><text>"+(a||"")+"</text></co-content>";o=ye.c.create(s,S.a)}return o.definition.dtdId=S.a,r.state={initialValue:o.definition.value,cml:o,hasErrors:!1,submitError:!1,submitEnabled:!1},r.editorElemRef=null,r}r()(ReplyCMLEdit,e);var t=ReplyCMLEdit.prototype;return t.componentDidMount=function(){this.focusOnEditor()},t.hideEdit=function(){this.context.executeAction(Se.f,{reply:this.props.reply})},t.render=function(){var e=Ce.a.generateContentLengthWarning(this.state.cml),t=Object(ve.b)(this.props.reply.questionId||""),n=t[t.length-1],r=Ce.a.getImageUploadOptions(this.props.courseId,n);return Object(s.d)("div",{className:"rc-ReplyCML","data-rc":"ReplyCML"},Object(s.d)("div",{className:"editor-container"},Object(s.d)(Ee.a,{cml:this.state.cml,placeholder:C()("Reply"),imageUploadOptions:r,ariaLabel:C()("Edit Reply"),onChange:this.handleInputChange})),Object(s.d)("div",{className:"horizontal-box align-items-right"},Object(s.d)("div",{className:"flex-2"},e,this.state.submitError&&Object(s.d)("div",{className:"c-error-text c-form-error-message"},this.state.saveErrorMessage)),Object(s.d)("button",{type:"button",className:"passive cancel",onClick:this.handleCancel,css:Object(s.c)(he||(he=o()(["\n              &:hover,\n              &:focus {\n                background-color: var(--cds-color-grey-500) !important;\n                border-color: var(--cds-color-grey-500) !important;\n              }\n            "])))},C()("Cancel")),Object(s.d)("button",{type:"button",ref:"submit",className:"secondary",onClick:this.handleSubmit,disabled:!this.state.submitEnabled||this.state.hasErrors},C()("Save"))))},ReplyCMLEdit}(i.Component));Ie.propTypes={reply:l.a.object.isRequired,courseId:l.a.string,onSubmitSuccess:l.a.func},Ie.contextTypes={executeAction:l.a.func.isRequired};var xe,Ne=Object(u.a)(["CourseStore"],(function(e){return{courseId:e.CourseStore.getCourseId()}}))(Ie),Re=t("O5JJ"),we=t("zZlI"),Te=t("nx5e"),Oe=t("XKX7"),qe=t("IEb9"),ke=t("ZJgU"),De=t("yFAw"),je=function(e){function Like(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={clickedUpvote:!1},t.toggleUpvote=function(){var e=t.props.post;t.state.clickedUpvote===e.isUpvoted&&(e.isUpvoted?(t.context.executeAction(B.a,{post:e}),t.setState({clickedUpvote:!1})):(t.context.executeAction(B.i,{post:e}),t.setState({clickedUpvote:!0})))},t}r()(Like,e);var t=Like.prototype;return t.componentDidMount=function(){this.setState({clickedUpvote:this.props.post.isUpvoted})},t.formatVoteCount=function(e){var t=e||0;return t.toString().length>3&&(t=Math.round(t/1e3*10)/10,t+="k"),t},t.render=function(){var e,t=P.a.get().id;if(!this.props.post)return null;var n=this.props,r=n.post,a=n.ariaDescribedBy,o=n.isReadOnlyAfterSessionEnd,s=(null===(e=r.creator)||void 0===e?void 0:e.userId)===t,c=void 0===r.upvotes?r.upvoteCount:r.upvotes,l=this.formatVoteCount(c),u=r.upvoteError,d=0===l?C()("Like"):C()("Like (#{voteCount})",{voteCount:l});return i.createElement(ke.a,{onClick:this.toggleUpvote,"aria-label":d,"aria-pressed":r.isUpvoted,"aria-describedby":a,variant:"ghost",icon:xe||(xe=i.createElement(De.a,{size:"small"})),iconPosition:"before",size:"small",edgeAlign:"start",disabled:u||s||o},u?C()("Sorry, something went wrong"):d)},Like}(i.Component);je.propTypes={post:l.a.object,ariaDescribedBy:l.a.string,isReadOnlyAfterSessionEnd:l.a.bool},je.contextTypes={executeAction:l.a.func.isRequired};var Ae,Le,Fe=je,Pe=T()("action-area","horizontal-box","align-items-vertical-center","caption-text","color-secondary-text"),repliesList_ReplyListItemActions=function(e){var t=e.reply,n=e.replyLegendId,r=e.isReadOnlyAfterSessionEnd,a=e.toggleButton,o=e.jumpLink,s=T()("reply-details",{flag:t.flagDetails&&t.flagDetails.isActive});return i.createElement(Re.b,null,i.createElement("div",{className:s},i.createElement(we.a,{cml:t.content,enableTranslation:!0})),Ae||(Ae=i.createElement(Te.a,null)),i.createElement("div",{className:Pe},i.createElement(Fe,{post:t,ariaDescribedBy:n,isReadOnlyAfterSessionEnd:r}),"answer"===t.type&&a,Le||(Le=i.createElement(Oe.a,{eventingSectionName:"discussion_prompt"})),o,i.createElement(qe.a,{post:t})))},Me=t("oEt1"),Ue=(t("IFlS"),function(e){function ReplyListItem(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).firstControlComponent=i.createRef(),t.state={announceEditSuccessNotification:!1,announceReportedSuccessNotification:!1,announceReportResolvedSuccessNotification:!1},t.focusOnProfile=function(){var e,n=t.props.reply,r=Object(Me.e)(n);if(null!==(e=t.firstControlComponent)&&void 0!==e&&e.current){var a,o=null===(a=t.firstControlComponent.current)||void 0===a?void 0:a.querySelector("#".concat(r));null==o||o.focus()}},t.handleEditClick=function(){t.setState({announceEditSuccessNotification:!1})},t.handleEditSuccess=function(){t.setState({announceEditSuccessNotification:!0}),t.focusOnProfile()},t.handleFlaggingClick=function(){t.setState({announceReportedSuccessNotification:!1,announceReportResolvedSuccessNotification:!1})},t.handleFlaggingSuccess=function(e){e?t.setState({announceReportResolvedSuccessNotification:!0}):t.setState({announceReportedSuccessNotification:!0})},t}r()(ReplyListItem,e);var t=ReplyListItem.prototype;return t.componentDidMount=function(){var e=this.props,t=e.isQuestionLoaded,n=e.isFocused;this.isDeepLinked()&&t&&this.scrollToLocation(),n&&this.focusOnProfile()},t.componentDidUpdate=function(e){!e.isFocused&&this.props.isFocused&&this.focusOnProfile()},t.isDeepLinked=function(){var e=this.props,t=e.reply,n=e.commentId,r=e.answerId;return n&&"comment"===t.type&&t.forumCommentId===n||r&&!n&&"answer"===t.type&&t.topLevelForumAnswerId===r},t.scrollToLocation=function(){var e,t,n=this.props.reply,r="#".concat(Object(Me.b)(n)),a=(null===(e=V()(r))||void 0===e?void 0:null===(t=e.offset())||void 0===t?void 0:t.top)||0,o=V()("#main-container"),s=o.find("".concat(r));if(V()("main.course-content").length)V()("html,body").animate({scrollTop:a+V()("body").scrollTop()-V()("body").offset().top-10},1500);else if(s.length)o.animate({scrollTop:a},1500);else if("hidden"!==V()("body").css("overflow")){var i=V()(".rc-PageHeader").length?V()(".rc-PageHeader")[0].offsetHeight:0;V()("body").animate({scrollTop:a+V()("body").scrollTop()-V()("body").offset().top-i-10},1500)}},t.renderShowToggle=function(){var e=this.props,t=e.commentsEnabled,n=e.commentCount,r=e.toggleComments,a=e.reply,o=C()("Show")+" ".concat(n," ")+(1===n?C()("Reply"):C()("Replies")),s=C()("Hide")+" ".concat(n," ")+(1===n?C()("Reply"):C()("Replies")),c=a.creator,l=i.createElement(K.a,{handleClick:r,text:o,creator:c}),u=i.createElement(K.a,{handleClick:r,text:s,creator:c}),d=i.createElement(K.a,{handleClick:r,text:C()("Reply"),creator:c}),p=i.createElement(K.a,{handleClick:r,text:C()("Hide"),creator:c});return t?n?u:p:n?l:d},t.render=function(){var e,t,n,r,a,o,s,c,l,u,p,m,h,f=this.props,g=f.reply,b=f.forumLink,v=f.forumType,y=f.showJumpLink,E=f.isHighlighted,I=f.hideUndoDelete,x=f.fetchAnswerPosition,N=f.className,R=f.onDeleteClick,w=f.onDeleteSuccess,O=f.children,q=f.isReadOnlyAfterSessionEnd,k=g.creator;if(g.hide)return null;var D=T()("horizontal-box",{"bgcolor-primary-light":this.isDeepLinked()},"reply-content"),j=T()("rc-ReplyComponent",N),A=v===S.k.gradedDiscussionPrompt,L=Object(Me.b)(g),F=Object(Me.e)(g),P=i.createElement(H.a,{creator:k,post:g,isHighlighted:E,forumLink:b,isGradedDiscussionPrompt:A,ariaDescribedBy:L,onEditClick:this.handleEditClick,onDeleteClick:R,onDeleteSuccess:w,onFlaggingClick:this.handleFlaggingClick,onFlaggingSuccess:this.handleFlaggingSuccess});return i.createElement("li",{className:j,ref:this.firstControlComponent,id:"".concat(L,"-comment")},i.createElement("div",{id:L,className:"screenreader-only pii-hide"},i.createElement(z.b,{message:C()("{name}'s Post"),name:null===(e=g.creator)||void 0===e?void 0:e.fullName})),i.createElement(d.a,{role:"status",component:"span",className:"rc-A11yScreenReaderOnly"},this.state.announceEditSuccessNotification&&C()("Reply edited successfully."),this.state.announceReportedSuccessNotification&&C()("Reply reported successfully."),this.state.announceReportResolvedSuccessNotification&&C()("Reply report resolved successfully.")),i.createElement("div",{className:D},g.showEditor&&i.createElement(i.Fragment,null,i.createElement("div",{className:"profile"},i.createElement(U.a,{courseRole:null===(t=g.creator)||void 0===t?void 0:t.courseRole,externalUserId:null===(n=g.creator)||void 0===n?void 0:n.externalUserId,fullName:null===(r=g.creator)||void 0===r?void 0:r.fullName,helperStatus:null===(a=g.creator)||void 0===a?void 0:a.helperStatus,profileImageUrl:null!==(o=g.creator)&&void 0!==o&&o.isDefaultPhoto?"":(null===(s=g.creator)||void 0===s?void 0:s.photoUrl)||"",profileLinkId:F})),i.createElement("div",{className:"flex-1 preview-container"},P,i.createElement(Ne,{reply:g,onSubmitSuccess:this.handleEditSuccess}))),!g.showEditor&&i.createElement("div",{className:"flex-1 preview-container with-editor"},i.createElement(G.a,{direction:"row",alignItems:"center",container:!0,className:"metadata caption-text color-secondary-text",spacing:24},i.createElement(G.a,{className:"profile",item:!0},i.createElement(profiles_ReplyProfileInformation,{courseRole:null===(c=g.creator)||void 0===c?void 0:c.courseRole,externalUserId:null===(l=g.creator)||void 0===l?void 0:l.externalUserId,fullName:null===(u=g.creator)||void 0===u?void 0:u.fullName,helperStatus:null===(p=g.creator)||void 0===p?void 0:p.helperStatus,profileImageUrl:null!==(m=g.creator)&&void 0!==m&&m.isDefaultPhoto?"":(null===(h=g.creator)||void 0===h?void 0:h.photoUrl)||"",profileLinkId:F})),i.createElement(G.a,{item:!0},i.createElement(J.a,{post:g,forumLink:b,isClickable:!A}),i.createElement(W.a,{post:g}))),!q&&P,i.createElement(repliesList_ReplyListItemActions,{reply:g,replyLegendId:L,isReadOnlyAfterSessionEnd:q,toggleButton:this.renderShowToggle(),jumpLink:y&&i.createElement(fe,{reply:g,forumLink:b,fetchAnswerPosition:x})}))),g.state.deleted&&i.createElement(X.a,{entry:g,hideUndoDelete:I}),O)},ReplyListItem}(i.LegacyComponentWithChildren));Ue.propTypes={reply:pe.b.isRequired,commentsEnabled:l.a.bool,toggleComments:l.a.func,answerId:l.a.string,commentId:l.a.string,commentCount:l.a.number,className:l.a.string,children:l.a.node,isHighlighted:l.a.bool,isQuestionLoaded:l.a.bool,forumLink:l.a.string,forumType:l.a.string,showJumpLink:l.a.bool,hideUndoDelete:l.a.bool,fetchAnswerPosition:l.a.func.isRequired,handleModerationActionClick:l.a.func,handleModerationSuccess:l.a.func,isNewestReply:l.a.bool,isFocused:l.a.bool,onDeleteClick:l.a.func,onDeleteSuccess:l.a.func,isReadOnlyAfterSessionEnd:l.a.bool};var Be,Qe=Ue,Ve=function(e){function CommentPaginationContainer(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={loadingComments:!1,focusOnReplyId:void 0},t.loadEarlierReplies=function(){var e=t.props,n=e.reply,r=e.commentPageRange,a=e.forumType,o=e.includeDeleted,s=r.endPage,i=n.questionId;t.context.executeAction(B.c,{questionId:i,forumType:a,includeDeleted:o,answerId:n.topLevelForumAnswerId,userForumAnswerId:n.id,startPage:s+1,endPage:s+1}),t.setState({loadingComments:!0})},t}r()(CommentPaginationContainer,e);var t=CommentPaginationContainer.prototype;return t.componentWillMount=function(){var e=this.props,t=e.reply,n=e.answerId,r=e.commentId,a=e.forumType,o=e.includeDeleted;if(r&&t.topLevelForumAnswerId===n){var s=t.questionId;this.context.executeAction(B.c,{questionId:s,answerId:n,userForumAnswerId:t.id,startPage:1,endPage:100,forumType:a,includeDeleted:o})}},t.componentWillReceiveProps=function(e){this.props.commentLoadingState===S.j.LOADING&&this.props.commentLoadingState!==e.commentLoadingState&&this.setState({loadingComments:!1})},t.componentDidUpdate=function(e){var t,n,r=this.props.comments;(null!==(t=null===(n=e.comments)||void 0===n?void 0:n.length)&&void 0!==t?t:0)<(null==r?void 0:r.length)&&this.setState({focusOnReplyId:r[r.length-1].id})},t.render=function(){var e=this,t=this.props,n=t.reply,r=t.comments,a=t.commentLoadingState,o=t.answerId,s=t.commentId,c=t.commentPageRange,l=t.onDeleteClick,u=t.onDeleteSuccess,d=t.isReadOnlyAfterSessionEnd,m=this.state.loadingComments||a===S.j.LOADING,h=m?S.j.DONE:a;return 0===n.childAnswerCount?null:i.createElement("div",{className:"rc-CommentPaginationContainer vertical-box"},c.endPage<c.totalPageCount&&i.createElement("button",{className:"secondary reply-load-button",onClick:this.loadEarlierReplies,disabled:m},m?Be||(Be=i.createElement("span",{className:"cif-spinner cif-spin"})):C()("See earlier replies")),i.createElement(p.a,{loadingState:h},r&&r.map((function(t,n){return i.createElement(Qe,{reply:t,key:t.id,answerId:o,commentId:s,commentsEnabled:!1,ref:t.id,isFocused:t.id===e.state.focusOnReplyId,isQuestionLoaded:e.props.isQuestionLoaded,forumLink:e.props.forumLink,forumType:e.props.forumType,onDeleteClick:l,onDeleteSuccess:u,isReadOnlyAfterSessionEnd:d})}))))},CommentPaginationContainer}(i.Component);Ve.propTypes={reply:pe.b.isRequired,answerId:l.a.string,commentId:l.a.string,commentLoadingState:l.a.string,comments:l.a.array,commentPageRange:l.a.object,isQuestionLoaded:l.a.bool,forumLink:l.a.string,forumType:l.a.string,includeDeleted:l.a.bool,onDeleteClick:l.a.func,onDeleteSuccess:l.a.func,isReadOnlyAfterSessionEnd:l.a.bool},Ve.contextTypes={executeAction:l.a.func.isRequired};var ze=Object(u.a)(Ve,["ThreadDetailsStore","ApplicationStore","CourseMembershipStore"],(function(e,t){var n=e.ThreadDetailsStore,r=e.ApplicationStore,a=e.CourseMembershipStore,o=t.reply;return{comments:n.getLoadedComments(o.topLevelForumAnswerId),commentLoadingState:n.commentLoadingState[o.topLevelForumAnswerId]||S.j.LOADING,commentPageRange:n.getCommentPageRange(o.topLevelForumAnswerId),forumType:n.forumType,includeDeleted:a.hasModerationRole()||r.isSuperuser()}})),Ge=t("NMx/"),Je=(t("NCTg"),function(e){function ReplyListItemContainer(t,n){var r;return(r=e.call(this,t,n)||this).toggleComments=function(){r.setState((function(e){return{showComments:!e.showComments}}))},r.state={showComments:t.reply.childAnswerCount>0&&!t.collapseCommentsByDefault},r}r()(ReplyListItemContainer,e);var t=ReplyListItemContainer.prototype;return t.componentWillReceiveProps=function(e){this.props.comments&&e.comments&&this.props.comments.length<e.comments.length&&this.setState({showComments:!0})},t.render=function(){var e,t,n=this.props,r=n.reply,a=n.answerId,o=n.commentId,s=n.isClosed,c=n.isHighlighted,l=n.savingState,u=n.showJumpLink,d=n.forumLink,p=n.forumType,m=n.question,h=n.isQuestionLoaded,f=n.hideUndoDelete,g=n.fetchAnswerPosition,b=n.isFocused,v=n.onDeleteClick,y=n.onDeleteSuccess,S=n.isReadOnlyAfterSessionEnd;if(r.hide)return null;var E=Object(M.a)();return(i.createElement(Qe,{reply:r,commentsEnabled:this.state.showComments,toggleComments:this.toggleComments,answerId:a,commentId:o,commentCount:r.childAnswerCount||0,className:"rc-ReplyContainer",isHighlighted:c,isQuestionLoaded:h,forumLink:d,forumType:p,showJumpLink:u,hideUndoDelete:f,fetchAnswerPosition:g,isFocused:b,onDeleteClick:v,onDeleteSuccess:y,isReadOnlyAfterSessionEnd:S},this.state.showComments&&i.createElement("div",null,i.createElement(ze,{reply:r,answerId:a,commentId:o,forumLink:d,forumType:p,isQuestionLoaded:h,onDeleteClick:v,onDeleteSuccess:y,isReadOnlyAfterSessionEnd:S}),!s&&!S&&i.createElement("div",{className:"comment-input horizontal-box"},i.createElement(U.a,{externalUserId:E.get("externalUserId"),fullName:E.get("fullName"),profileImageUrl:E.getProfileImageUrl()}),i.createElement(Ge.a,{forumType:p,question:m,parentPost:r,ariaLabel:null!=r&&null!==(e=r.creator)&&void 0!==e&&e.fullName?C()("Reply to #{parentPostCreator} ",{parentPostCreator:null===(t=r.creator)||void 0===t?void 0:t.fullName}):C()("Reply to post"),ariaDescribedBy:Object(Me.b)(r),savingState:l})))))},ReplyListItemContainer}(i.Component));Je.propTypes={reply:pe.b.isRequired,savingState:l.a.string,answerId:l.a.string,commentId:l.a.string,isClosed:l.a.bool,isHighlighted:l.a.bool,comments:l.a.array,isQuestionLoaded:l.a.bool,forumLink:l.a.string,forumType:l.a.string,question:l.a.object,showJumpLink:l.a.bool,collapseCommentsByDefault:l.a.bool,hideUndoDelete:l.a.bool,fetchAnswerPosition:l.a.func,isFocused:l.a.bool,onDeleteClick:l.a.func,onDeleteSuccess:l.a.func,isReadOnlyAfterSessionEnd:l.a.bool};var We,_e=Object(u.a)(Je,["ThreadDetailsStore","ThreadSettingsStore","CourseMembershipStore"],(function(e,t){var n=e.ThreadDetailsStore,r=e.ThreadSettingsStore,a=e.CourseMembershipStore,o=t.reply;return{question:n.getQuestion(o.questionId),comments:n.getLoadedComments(o.topLevelForumAnswerId),isClosed:r.isClosed(),isHighlighted:n.isHighlighted(o),savingState:n.savingStates[o.id],hideUndoDelete:"LEARNER"===a.getCourseRole()&&!Object(P.f)()}})),He=t("o3w6"),Ke={replyListWrapper:Object(s.c)(We||(We=o()(["\n    padding: var(--cds-spacing-150) 0;\n  "])))},Xe=function(e){function RepliesList(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={focusOnReplyId:void 0,announceDeleteSuccessNotification:!1},t.onPageChange=function(e){t.context.router.push({pathname:t.context.router.location.pathname,params:t.context.router.params,query:Object.assign(t.context.router.location.query,{page:e})})},t.handleDeleteClick=function(){t.setState({announceDeleteSuccessNotification:!1})},t.handleDeleteSuccess=function(){t.setState({announceDeleteSuccessNotification:!0})},t}r()(RepliesList,e);var t=RepliesList.prototype;return t.componentDidUpdate=function(e){var t,n,r=this.props,a=r.replies;r.savingStates[r.questionId]===S.n.SAVED&&(null!==(t=null==e?void 0:null===(n=e.replies)||void 0===n?void 0:n.length)&&void 0!==t?t:0)<(null==a?void 0:a.length)&&this.setState({focusOnReplyId:a[0].id})},t.render=function(){var e=this,t=this.props,n=t.sort,r=t.page,a=t.replies,o=t.answerId,i=t.commentId,c=t.forumLink,l=t.forumType,u=t.isQuestionLoaded,m=t.loadingState,h=t.savingStates,f=t.pageCount,g=t.forumTypeSetting,b=t.fetchAnswerPosition,v=t.isReadOnlyAfterSessionEnd,y=m===S.j.DONE,E=l===S.k.gradedDiscussionPrompt;return Object(s.d)("div",null,Object(s.d)("div",{className:"rc-RepliesList card-rich-interaction nostyle"},Object(s.d)(F,{sort:n,forumType:l,forumTypeSetting:g}),Object(s.d)("div",{role:"tabpanel",id:"replies-list-tabpanel","aria-labelledby":generateTabId(E?g:n),css:Ke.replyListWrapper},E&&Object(s.d)(repliesList_GradedDiscussionPromptAnswersSortBar,{sort:n,loadingState:m}),Object(s.d)(p.a,{loadingState:m,emptyStatePlaceholderText:C()("No Replies Yet")},Object(s.d)(d.a,{role:"status",component:"span",className:"rc-A11yScreenReaderOnly"},this.state.announceDeleteSuccessNotification&&C()("Reply deleted successfully.")),a&&a.map((function(t){return Object(s.d)(_e,{reply:t,answerId:o,commentId:i,forumLink:c,forumType:l,isQuestionLoaded:u,savingState:h[t.id],key:t.id,fetchAnswerPosition:b,isFocused:t.id===e.state.focusOnReplyId,onDeleteClick:e.handleDeleteClick,onDeleteSuccess:e.handleDeleteSuccess,isReadOnlyAfterSessionEnd:v})}))))),y&&!!f&&Object(s.d)(He.a,{maxPages:5,currentPage:r,pageCount:f,onPageChange:this.onPageChange}))},RepliesList}(i.Component);Xe.propTypes={sort:l.a.string.isRequired,page:l.a.number.isRequired,savingStates:l.a.object.isRequired,replies:l.a.array.isRequired,loadingState:l.a.string.isRequired,isQuestionLoaded:l.a.bool,answerId:l.a.string,commentId:l.a.string,pageCount:l.a.number,fetchAnswerPosition:l.a.func,forumLink:l.a.string,forumType:l.a.string,forumTypeSetting:l.a.string,isReadOnlyAfterSessionEnd:l.a.bool},Xe.contextTypes={router:l.a.object.isRequired};e.a=Object(u.a)(Xe,["ThreadDetailsStore"],(function(e,t){var n=e.ThreadDetailsStore,r=t.questionId,a=t.page,o=t.sort;return{replies:n.getReplies(r,a,o)||[],pageCount:n.getPageCount(r,a,o),savingStates:n.savingStates,loadingState:n.getAnswerLoadedState({questionId:r,page:a,sort:o})||S.j.LOADING,isQuestionLoaded:n.isLoaded({questionId:r,page:a,sort:o})}}))},aiGB:function(module,e,t){"use strict";var n=t("3tO9"),r=t.n(n),a=t("VbXa"),o=t.n(a),s=t("q1tI"),i=t("TSYQ"),c=t.n(i),l=t("wd/R"),u=t.n(l),d=t("17x9"),p=t.n(d),m=t("F/us"),h=t.n(m),f=t("8cuT"),g=t("IaEU"),b=t("JrPq"),v=t("p0lN"),y=t("py0D"),S=t("GP6s"),E=t.n(S);t("isFh");var C=function(e){function ThreadBadge(){return e.apply(this,arguments)||this}return o()(ThreadBadge,e),ThreadBadge.prototype.render=function(){var e=this.props.badge,t={INSTRUCTOR_CREATED:E()("Instructor Created"),STAFF_CREATED:E()("Staff Created"),INSTRUCTOR_RESPONDED:E()("Instructor Replied"),MENTOR_CREATED:E()("Mentor Created"),STAFF_RESPONDED:E()("Staff Replied"),MENTOR_RESPONDED:E()("Mentor Replied"),HIGHLIGHTED:E()("Highlighted")}[e];return t?s.createElement("span",{className:"rc-ThreadBadge bgcolor-accent-brown-light","aria-label":t},t):null},ThreadBadge}(s.Component);C.propTypes={badge:p.a.string};var I,x,N=C,R=t("6FM8"),w=t("oEt1"),T=t("9A5E"),O=(t("kLO7"),function(e){function Metadata(){return e.apply(this,arguments)||this}return o()(Metadata,e),Metadata.prototype.render=function(){var e=this.props,t=e.badge,n=e.profile,r=e.metadataLabel,a=e.timestamp,o=Object(g.a)(n?n.courseRole:""),i=o?E()("Role #{role}",{role:o}):"",c=E()("Last Contributor #{fullName}, with #{roleString}, #{postsCount} posts, #{votesReceivedCount} votes, Profile",{roleString:i,fullName:n?n.fullName:E()("none"),postsCount:n?n.postsCount:"0",votesReceivedCount:n?n.votesReceivedCount:"0"});return s.createElement("div",{className:"rc-Metadata entry-metadata caption-text color-secondary-text"},s.createElement(N,{badge:t}),r||E()("Created by")," ",s.createElement(v.a,{ariaHidden:!1,ariaLabel:c,fullName:n.fullName,externalId:n.externalUserId}),I||(I=s.createElement("span",{className:"timestamp-separator"}," · ")),s.createElement("span",{className:"timestamp"},u()(a).fromNow()))},Metadata}(s.Component));O.propTypes={profile:R.a.isRequired,timestamp:p.a.number.isRequired,badge:p.a.string,metadataLabel:p.a.string};var q=function(e){function ThreadsListEntry(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={threadFocus:!1},t.handleThreadFocus=function(){t.setState({threadFocus:!0})},t.handleThreadBlur=function(){t.setState({threadFocus:!1})},t}return o()(ThreadsListEntry,e),ThreadsListEntry.prototype.render=function(){var e=this.props,t=e.entry,n=e.isPinned,a=e.isDeleted,o=e.isRead,i=e.threadUrl,l=e.viewCount,d=e.answerCount,p=e.badge,m=e.profile,h=e.metadataLabel,f=e.forumName,g=e.threadName,v=e.snippet,S=e.timestamp,C=e.questionId,I=e.questionUserId,N=e.fullProfile,R=this.state,q=R.threadFocus,k=R.profileFocus,D=c()("headline-1-text question-title color-primary-text",{"question-title-bold":!o}),j=void 0!==l&&!Number.isNaN(l),A=void 0!==d&&!Number.isNaN(d),L=j||A,F="".concat(n?"Pinned ":"","Thread: ").concat(g,", \n                          ").concat(u()(S).fromNow(),"\n                          ").concat(j?", ".concat(l," views"):""," \n                          ").concat(A?", ".concat(d," replies"):"");return s.createElement("li",{className:"rc-ThreadsListEntry ".concat(q?"focused":"blurred")},s.createElement(T.c,{href:i,className:"horizontal-box threads-list-link nostyle",trackingName:"thread_list_entry","aria-label":F,data:{question_id:C,question_user_id:I}},n&&(x||(x=s.createElement("span",{className:"cif-stack cif-lg pin-container align-self-start"},s.createElement("i",{className:"cif-circle cif-stack-2x pin-background"}),s.createElement("i",{className:"cif-pin cif-stack-lg pin-icon"})))),s.createElement("div",{className:"flex-1 align-self-center"},f&&s.createElement("div",{className:"forum-info caption-text color-secondary-text"},f),s.createElement("div",{className:D},g),v&&s.createElement("div",{className:c()("body-1-text","entry-snippet")},s.createElement(b.a,{cml:v}))),L&&s.createElement("div",{className:"horizontal-box align-self-end color-secondary-text c-reply-area"},j&&s.createElement("div",{className:"vertical-box align-items-vertical-center view-count"},s.createElement("div",{className:"label-text color-secondary-text"},Object(w.a)(l)),s.createElement("div",{className:"caption-text color-secondary-text"},E()("views"))),A&&s.createElement("div",{className:"vertical-box align-items-vertical-center"},s.createElement("div",{className:"label-text color-secondary-text"},Object(w.a)(d)),s.createElement("div",{className:"caption-text color-secondary-text"},E()("replies"))))),s.createElement(O,{badge:p,profile:r()(r()({},N),m),profileFocus:k,metadataLabel:h,timestamp:S}),a&&s.createElement(y.a,{entry:t,hideUndoDelete:!0}))},ThreadsListEntry}(s.Component);q.propTypes={threadUrl:p.a.string.isRequired,profile:R.a.isRequired,timestamp:p.a.number.isRequired,threadName:p.a.string.isRequired,questionId:p.a.string.isRequired,questionUserId:p.a.number.isRequired,entry:p.a.object,isPinned:p.a.bool,isDeleted:p.a.bool,isRead:p.a.bool,viewCount:p.a.number,answerCount:p.a.number,badge:p.a.string,metadataLabel:p.a.string,snippet:p.a.object,forumName:p.a.string,courseId:p.a.string,fullProfile:R.a.isRequired},q.contextTypes={executeAction:p.a.func.isRequired},q.defaultProps={isPinned:!1,isDeleted:!1,isRead:!0};e.a=h.a.compose(Object(f.a)(["CourseStore","ClassmatesProfileStore"],(function(e,t){var n=e.CourseStore,r=e.ClassmatesProfileStore,a=t.profile;return{courseId:n.getCourseId(),fullProfile:h()(r.profiles).findWhere({externalId:a.externalUserId})}})))(q)},as3Y:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),a=t("q1tI"),o=t("TSYQ"),s=t.n(o),i=t("17x9"),c=t.n(i),l=t("kvW3"),u=t("loer"),d=t("IEb9"),p=t("GP6s"),m=t.n(p),h=(t("pgkn"),function(e){var t,n=e.creator,r=e.prefix;if(null!=n&&n.isSuperuser)return a.createElement("span",{className:"rc-Badgebgcolor-primary-light"},m()("Coursera Staff"));switch(null==n?void 0:n.courseRole){case"MENTOR":t="Mentor";break;case"COURSE_ASSISTANT":t="Course Assistant";break;case"INSTRUCTOR":t="Instructor";break;case"TEACHING_STAFF":t="Teaching Staff";break;case"UNIVERSITY_ADMIN":case"DATA_COORDINATOR":t="Staff";break;default:t=""}return t?a.createElement("span",{className:"rc-Badgebgcolor-success-light"},r,t):null}),f=t("d715"),g=t("y9wT"),b=t("JacN"),v=(t("+EeN"),function(e){function Follow(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).toggleFollowing=function(){var e=t.props.question;e.isFollowing?t.context.executeAction(b.h,{question:e}):t.context.executeAction(b.e,{question:e})},t}return r()(Follow,e),Follow.prototype.render=function(){var e=this.props.question,t=e.isFollowing,n=e.followError;return(a.createElement("button",{className:"rc-Follow",onClick:this.toggleFollowing,"aria-pressed":t},a.createElement("span",null,t?m()("Unfollow this discussion"):m()("Follow this discussion")," "),n&&a.createElement("span",null,m()("Sorry, something went wrong"))))},Follow}(a.Component));v.propTypes={question:c.a.object.isRequired},v.contextTypes={executeAction:c.a.func.isRequired};var y,S,E,C,I=v,x=t("kRCD"),N=t("dJDe"),R=t("p0lN"),w=t("RurG"),T=t("8cuT"),O=t("CsdX"),q=t("pVnL"),k=t.n(q),D=t("+ojs"),common_SvgUpvote=function(e){return a.createElement(D.a,k()({},e,{viewBox:"0 0 48 48",htmlAttributes:{"aria-hidden":!0}}),y||(y=a.createElement("title",null,"SvgUpvote")),S||(S=a.createElement("path",{d:"M17.9726562,23.994873 L6.85271794,23.994873 L24.1144615,3.46445069 L42.0405036,23.9357782 L30.2181414,23.9357782 L30.2181414,44.2382989 L17.9726562,44.2382989 L17.9726562,23.994873 Z M11.1472821,21.994873 L19.9726562,21.994873 L19.9726562,42.2382989 L28.2181414,42.2382989 L28.2181414,21.9357782 L37.6307584,21.9357782 L24.1453041,6.53554931 L11.1472821,21.994873 Z"})))},common_SvgUpvoteFilled=function(e){return a.createElement(D.a,k()({},e,{viewBox:"0 0 48 48",htmlAttributes:{"aria-hidden":!0}}),E||(E=a.createElement("title",null,"SvgUpvoteFilled")),C||(C=a.createElement("polygon",{points:"17.9726562 23.994873 6.85271794 23.994873 24.1144615 3.46445069 42.0405036 23.9357782 30.2181414 23.9357782 30.2181414 44.2382989 17.9726562 44.2382989"})))},j=(t("4xiJ"),function(e){function Upvote(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1,clickedUpvote:!1},t.handleMouseLeave=function(){t.setState({hovered:!1})},t.handleMouseEnter=function(){t.setState({hovered:!0})},t.toggleUpvote=function(){var e=t.props.post;t.state.clickedUpvote===e.isUpvoted&&(e.isUpvoted?(t.context.executeAction(b.a,{post:e}),t.setState({clickedUpvote:!1})):(t.context.executeAction(b.i,{post:e}),t.setState({clickedUpvote:!0})))},t}r()(Upvote,e);var t=Upvote.prototype;return t.componentDidMount=function(){this.setState({clickedUpvote:this.props.post.isUpvoted})},t.formatVoteCount=function(e){var t=e||0;return t.toString().length>3&&(t=Math.round(t/1e3*10)/10,t+="k"),t},t.render=function(){var e;if(!this.props.post)return null;var t=this.props,n=t.post,r=t.ariaDescribedBy,o=t.isReadOnlyAfterSessionEnd,s=(null===(e=n.creator)||void 0===e?void 0:e.userId)===this.props.userId,i=void 0===n.upvotes?n.upvoteCount:n.upvotes,c=this.formatVoteCount(i),u=n.upvoteError;if(s||o)return a.createElement("div",{className:"rc-Upvote"},a.createElement(common_SvgUpvote,{size:14,style:{position:"relative",top:"2px",color:"var(--cds-color-grey-600)"}}),a.createElement("span",{className:"label-wrapper"},a.createElement(l.b,{message:m()("{voteCount, number} {voteCount, plural, =1 {Upvote} other {Upvotes}}"),voteCount:c})));var d={};n.isUpvoted&&(d.fontWeight="bold"),(n.isUpvoted||this.state.hovered)&&(d.color=O.b.primary);var p=a.createElement(common_SvgUpvote,{size:14,hoverColor:O.b.primary,hovered:this.state.hovered,style:{position:"relative",top:"2px",color:"var(--cds-color-grey-600)"},disableMouseEvent:!0});n.isUpvoted&&(p=a.createElement(common_SvgUpvoteFilled,{size:14,color:O.b.primary,style:{position:"relative",top:"2px"}}));var h=c.toString()+" "+(1!==c?m()("Upvotes"):m()("Upvote"));return(a.createElement("button",{type:"button",className:"rc-Upvote",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.toggleUpvote,"aria-label":h,"aria-pressed":n.isUpvoted,"aria-describedby":r},p,a.createElement("span",{className:"label-wrapper",style:d},h),u&&a.createElement("span",null,m()("Sorry, something went wrong"))))},Upvote}(a.Component));j.propTypes={post:c.a.object,userId:c.a.number,ariaDescribedBy:c.a.string,isReadOnlyAfterSessionEnd:c.a.bool},j.contextTypes={executeAction:c.a.func.isRequired};var A,L=Object(T.a)(["ApplicationStore"],(function(e){return{userId:e.ApplicationStore.getUserData().id}}))(j),F=t("u6zc"),P=t("oEt1"),M=t("KMW/"),U=t("9wPM"),B=t.n(U);null===(A=M.a.addDefaults)||void 0===A||A.call(M.a,[B.a]);var Q,V,z={get:function(e,t){return M.a.get("FlexSupport",e,t)},preview:function(e,t,n){return M.a.preview("FlexSupport",e,t)}},G=(t("Ou6l"),function(e){function DetailedQuestion(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onDeleteSuccess=function(e){var n=t.props.forumLink;e||t.context.router.replace(n)},t}return r()(DetailedQuestion,e),DetailedQuestion.prototype.render=function(){var e=this.props,t=e.question,n=e.forumLink,r=e.isPinned,o=e.goToInput;if(!t)return null;var i=t.flagDetails&&t.flagDetails.isActive||t.isFlagged,c=s()("headline-3-text question-header",{flagged:i}),p=s()({flagged:i}),b=t.creator,v=Object(P.b)(t),y=z.get("customLabelsEnabled",{course_id:t.courseId});return a.createElement("div",{className:"rc-DetailedQuestion card-rich-interaction horizontal-box"},a.createElement("div",{id:v,className:"screenreader-only pii-hide"},a.createElement(l.b,{message:m()("{name}'s Post"),name:null==b?void 0:b.fullName})),a.createElement("div",{className:"profile"},a.createElement(F.a,{courseRole:null==b?void 0:b.courseRole,externalUserId:null==b?void 0:b.externalUserId,fullName:null==b?void 0:b.fullName,helperStatus:null==b?void 0:b.helperStatus,profileImageUrl:null!=b&&b.isDefaultPhoto?"":(null==b?void 0:b.photoUrl)||""})),a.createElement("div",{className:"flex-1"},a.createElement("div",{className:"horizontal-box"},a.createElement("h3",{className:c},t.content.question),r&&(Q||(Q=a.createElement("i",{className:"cif-pin cif-lg pin"})))),a.createElement("div",{className:"metadata caption-text color-secondary-text"},a.createElement(R.a,{fullName:null==b?void 0:b.fullName,externalId:null==b?void 0:b.externalUserId,ariaHidden:!0}),a.createElement(h,{creator:b}),!y&&a.createElement(N.a,{question:t}),V||(V=a.createElement("span",null," · ")),a.createElement(f.a,{post:t,forumLink:n}),a.createElement(g.a,{post:t})),a.createElement("div",{className:p},a.createElement(u.a,{cml:t.content.details,className:p})),a.createElement("div",{className:"action-area horizontal-box align-items-vertical-center caption-text color-secondary-text"},a.createElement(L,{post:t}),a.createElement(w.a,{handleClick:o,text:m()("Reply"),creator:b}),a.createElement(I,{question:t}))),a.createElement(d.a,{post:t}),a.createElement(x.a,{onDeleteSuccess:this.onDeleteSuccess,creator:b,post:t,forumLink:n,ariaDescribedBy:v}))},DetailedQuestion}(a.Component));G.propTypes={goToInput:c.a.func.isRequired,question:c.a.object,isPinned:c.a.bool,forumLink:c.a.string},G.contextTypes={router:c.a.object.isRequired};e.a=G},b77p:function(module,exports,e){},"cG+Z":function(module,exports,e){e("+Xbf")},cVOE:function(module,exports,e){e("MK+n")},d715:function(module,e,t){"use strict";var n,r=t("VbXa"),a=t.n(r),o=t("q1tI"),s=t("wd/R"),i=t.n(s),c=t("17x9"),l=t.n(c),u=t("fAYU"),d=t("EHzZ"),p=t("GqWO"),m=t("GP6s"),h=t.n(m),f=function(e){function CreatedTimeLink(){return e.apply(this,arguments)||this}return a()(CreatedTimeLink,e),CreatedTimeLink.prototype.render=function(){var e=this.props,t=e.post,r=e.forumLink,a=e.isClickable,s=Object(p.a)(r,t.questionId,t.topLevelForumAnswerId,t.forumCommentId),c=i()(new Date(t.createdAt)).fromNow();return a?o.createElement(u.a,{href:s,variant:"standard",target:"_blank",rel:"noopener noreferrer",className:"rc-CreatedTimeLink caption-text","aria-label":h()("#{createdTimeString}, opens in a new tab",{createdTimeString:c})},c," ",n||(n=o.createElement(d.a,{size:"small"}))):o.createElement("span",{className:"rc-CreatedTimeLink dim caption-text"},c)},CreatedTimeLink}(o.Component);f.propTypes={post:l.a.object.isRequired,forumLink:l.a.string,isClickable:l.a.bool},f.defaultProps={isClickable:!0},e.a=f},dwvi:function(module,exports,e){},ep7w:function(module,exports,e){},f8sV:function(module,exports,e){e("dwvi")},gr85:function(module,exports,e){},isFh:function(module,exports,e){e("b77p")},kLO7:function(module,exports,e){e("NJfQ")},p0lN:function(module,e,t){"use strict";var n=t("J4zp"),r=t.n(n),a=t("q1tI"),o=t.n(a),s=t("al67"),i=t("vXr1"),c=t("9Vms"),l=t("GqWO");t("0rNP");e.a=function(e){var t=e.fullName,n=e.externalId,u=e.ariaHidden,d=void 0!==u&&u,p=e.ariaLabel,m=Object(i.b)(),h=Object(a.useState)(!1),f=r()(h,2),g=f[0],b=f[1],v=Object(a.useRef)(null),onNameClick=function(){m.push(Object(l.p)(n))};return o.a.createElement("span",{tabIndex:d?-1:0,role:"link",className:"rc-ProfileName nostyle pii-hide","aria-hidden":d,"aria-label":p,onClick:onNameClick,onKeyPress:function(e){return Object(s.a)(e,onNameClick)},onMouseEnter:function(){return b(!0)},onFocus:function(){return b(!0)},onMouseLeave:function(){setTimeout((function(){var e=v.current;e&&e.matches(":hover")||b(!1)}),2e3)},onBlur:function(){return b(!1)}},o.a.createElement("span",{className:"profile-name"},t),o.a.createElement("span",{"data-js":"mini-profile",style:{position:"absolute",zIndex:99},ref:v},o.a.createElement(c.a,{source:"profileName",externalId:n,showMini:g,fullName:t})))}},pgkn:function(module,exports,e){e("YmRV")},sWYI:function(module,e,t){"use strict";var n,r,a=t("VbXa"),o=t.n(a),s=t("q1tI"),i=t("17x9"),c=t.n(i),l=t("hWOb"),u=t("0lMm"),d=t("YLcG"),p=t("PsRG"),m=t("GP6s"),h=t.n(m),f=(t("vn7K"),function(e){function ThreadSettings(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={showMoveThreadModal:!1},t.openMoveThreadModal=function(){t.setState({showMoveThreadModal:!0})},t.closeMoveThreadModal=function(){t.setState({showMoveThreadModal:!1})},t}o()(ThreadSettings,e);var t=ThreadSettings.prototype;return t.renderMoveThreadModal=function(){return s.createElement(u.a,{handleClose:this.closeMoveThreadModal,question:this.props.question})},t.renderNonItemEntries=function(){return this.props.shouldShowMoveThread?s.createElement("button",{className:"nostyle",onClick:this.openMoveThreadModal},h()("Move Thread")):null},t.render=function(){var e=[n||(n=s.createElement(l.a,null)),r||(r=s.createElement(d.a,null)),this.renderNonItemEntries()];return(s.createElement("div",{className:"rc-ThreadSettings"},s.createElement(p.a,{dropdownId:"test",listItems:e,iconName:"settings",iconClassName:"color-secondary-text",label:h()("View dropdown options")}),this.state.showMoveThreadModal&&this.renderMoveThreadModal()))},ThreadSettings}(s.Component));f.propTypes={question:c.a.object.isRequired,shouldShowMoveThread:c.a.bool},e.a=f},xTUI:function(module,exports,e){e("EGV0")},y1Ib:function(module,exports,e){},y9wT:function(module,e,t){"use strict";var n,r=t("q1tI"),a=t("GP6s"),o=t.n(a);e.a=function(e){var t,a=e.post;return a.state.edited?r.createElement("span",{className:"rc-EditIndicator"},n||(n=r.createElement("span",{"aria-hidden":!0}," · ")),a.state.edited.userId!==(null===(t=a.creator)||void 0===t?void 0:t.userId)?o()("Edited by moderator"):o()("Edited")):null}},ypD2:function(module,e,t){"use strict";var n=t("3tO9"),r=t.n(n),a=t("VbXa"),o=t.n(a),s=t("q1tI"),i=t("17x9"),c=t.n(i),l=t("MnCE"),u=t("8cuT"),d=t("+LJP"),p=t("kvW3"),m=t("BVC1"),h=t("sBaw"),f=t("OrSE"),g=t("5+aF"),b=t("zRby"),v=t("aiGB"),y=t("6FM8"),S=t("GqWO"),E=t("WE4C"),C=t("GP6s"),I=t.n(C),x=function(e){function SearchResultEntry(){return e.apply(this,arguments)||this}return o()(SearchResultEntry,e),SearchResultEntry.prototype.render=function(){var e,t=this.props.entry,n=!E.a.hasUnread(t);return s.createElement("div",{className:"rc-SearchResultEntry nostyle"},s.createElement(v.a,{threadUrl:S.k(this.props.forumLink,this.props.entry),profile:t.creator,timestamp:t.createdAt,threadName:t.title,snippet:t.snippet,questionId:t.id,questionUserId:null===(e=t.creator)||void 0===e?void 0:e.userId,isRead:n,metadataLabel:I()("Post by")}))},SearchResultEntry}(s.Component);x.propTypes={entry:c.a.shape({id:c.a.string.isRequired,title:c.a.string.isRequired,snippet:c.a.object.isRequired,creator:y.a.isRequired,createdAt:c.a.number,forumId:c.a.string}).isRequired,index:c.a.number.isRequired,page:c.a.number.isRequired,query:c.a.string.isRequired,forumLink:c.a.string.isRequired};var N,R=x,w=t("2BcA"),T=t("ii1C"),O=t("o3w6"),q=(t("cG+Z"),t("ksta"),function(e){function SearchResults(t,n){var r;((r=e.call(this,t,n)||this).handleQueryChange=function(e){r.setState({query:e})},r.handleSearchCourse=function(e){var t=r.state.query,n=r.props.rootPath,a=r.context.router;e.preventDefault();var o=m.a.join(null!=n?n:[],"discussions/all");a.push({pathname:o,params:{},query:{q:t}})},r.onPageChange=function(e){var t=r.props,n=t.query,a=t.currentForum,o=t.contextId,s=t.hasModerationRole,i=r.context,c=i.router,l=i.executeAction;c.push({pathname:c.location.pathname,params:{},query:Object.assign(c.location.query,{page:e})}),l(h.a.goToPage,{query:n,pageNum:e,filterQueryString:r.props.filterQueryString,forumId:a.forumId,contextId:o,forumType:a.forumType.typeName,includeDeleted:s})},r.submitSearch=function(){var e=r.state.query,t=r.context.router;if(e){var n=e.replace("*","");t.push({pathname:window.location.pathname,params:{},query:{q:n}})}},r.navigateBack=function(e){var t=r.context.router,n=r.props.currentForumUrl;e.preventDefault(),t.push(n)},r.state={query:t.query||""},t.query)&&(0,r.context.executeAction)(h.a.search,{query:t.query,filterQueryString:t.filterQueryString,pageNum:t.page,forumId:t.currentForum.forumId,contextId:t.contextId,forumType:t.currentForum.forumType.typeName,reset:!0,includeDeleted:t.hasModerationRole});return r}o()(SearchResults,e);var t=SearchResults.prototype;return t.componentWillReceiveProps=function(e){var t=this.props,n=t.query,r=t.pathname,a=t.currentForum,o=t.filterQueryString,s=t.page,i=this.context.executeAction;e.query===n&&e.pathname===r&&e.currentForum.id===a.id&&e.filterQueryString===o||(this.setState({query:e.query}),i(h.a.search,{query:e.query,filterQueryString:e.filterQueryString,pageNum:s,forumId:e.currentForum.forumId,contextId:e.contextId,forumType:e.currentForum.forumType.typeName,reset:o!==e.filterQueryString,includeDeleted:e.hasModerationRole}))},t.render=function(){var e=this.props,t=e.currentForum,n=e.currentForumUrl,a=e.loadingState,o=e.numResults,i=e.currentResults,c=e.page,l=e.pageCount,u=e.query;if(!t)return null;var d,m=this.state.query,h=this.context.router,g=h.isActive({pathname:Object(S.c)()}),v=!!h.params.item_id,y=!g&&!v,E=t.title,C=n,x=a===w.j.DONE?I()("#{numResults} search results in #{displayName}",{numResults:o,displayName:E}):I()("Finding search results in #{displayName}",{displayName:E}),T=s.createElement("button",{onClick:this.handleSearchCourse,className:"nostyle search-course-link button-link",type:"button"},I()("Search All Discussions")),q=s.createElement("div",{className:"results-metadata bgcolor-black-g1"},s.createElement("span",{className:"color-secondary-text","aria-live":"polite"},a===w.j.DONE?s.createElement("span",null,x):s.createElement(p.b,{message:I()("Finding search results in {displayName}"),displayName:E}),y&&" • ",y&&T));return a===w.j.DONE&&i.length>0&&(d=i.map((function(e,n){return s.createElement(R,{key:e.id,index:n,entry:r()(r()({},e),{},{forumId:null==t?void 0:t.forumId}),page:c,query:u,forumLink:C})}))),s.createElement("div",{className:"rc-DiscussionsSearchResults"},s.createElement("div",{className:"results-container card-rich-interaction"},!g&&s.createElement("div",{className:"bgcolor-black-g1"},s.createElement("button",{onClick:this.navigateBack,className:"nostyle back-area button-link",type:"button"},N||(N=s.createElement("div",{className:"back-arrow"},s.createElement("i",{className:"cif-arrow-left back-arrow-image"}))),s.createElement("span",{className:"back-label body-2-text"},I()("Back to #{displayName}",{displayName:E})))),!g&&s.createElement(b.a,{query:m,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange}),!g&&q,s.createElement(f.a,{loadingState:a},d)),s.createElement(O.a,{onPageChange:this.onPageChange,pageCount:l,currentPage:c,maxPages:5}))},SearchResults}(s.Component));q.contextTypes={executeAction:c.a.func.isRequired,router:c.a.object.isRequired};e.a=Object(l.b)(Object(d.a)((function(e){return{query:decodeURIComponent(e.location.query.q),pathname:e.location.pathname}})),Object(g.a)({fields:["title","link","forumType"]}),Object(d.a)(T.a),Object(u.a)(["DiscussionsSearchStore","SessionFilterStore"],(function(e,t){var n=e.DiscussionsSearchStore,r=e.SessionFilterStore,a=t.currentForum.forumId;return{filterQueryString:r.activeFilterQueryString,currentResults:n.searchResults({forumId:a,query:t.query,pageNum:n.currentPage}),loadingState:n.loadingState,pageCount:n.getPageCount({forumId:a,query:t.query}),numResults:n.getNumResults({forumId:a,query:t.query})}})))(q)},"z+2O":function(module,exports,e){},zRby:function(module,e,t){"use strict";var n,r,a,o=t("VbXa"),s=t.n(o),i=t("VkAN"),c=t.n(i),l=t("OhL7"),u=t("q1tI"),d=t("17x9"),p=t.n(d),m=t("Who7"),h=t("FdHa"),f=t("6/Gu"),g=t("ZJgU"),b=t("kcfJ"),v=t("GP6s"),y=t.n(v),S={searchBarContainer:function(){return Object(l.c)(n||(n=c()(["\n    z-index: 1000;\n    border: none;\n\n    i {\n      margin-right: var(--cds-spacing-200);\n    }\n  "])))},searchContainer:function(){return Object(l.c)(r||(r=c()(["\n    flex: 1;\n    margin-right: var(--cds-spacing-100);\n\n    input {\n      ",";\n      max-height: 36px;\n      padding: var(--cds-spacing-100) var(--cds-spacing-150);\n\n      &::placeholder {\n        color: var(--cds-color-neutral-primary-weak);\n        opacity: 1;\n      }\n    }\n\n    button {\n      border-radius: 0 4px 4px 0;\n    }\n    "," {\n      div:first-of-type {\n        min-width: 0;\n      }\n    }\n  "])),m.c.bodyPrimary,h.a.down("xs"))},inputArea:function(){return Object(l.c)(a||(a=c()(["\n    border: 1px solid var(--cds-color-grey-600);\n    box-sizing: border-box;\n\n    /* using this to override some of the .input-area styling without impacting other pages */\n    border-radius: 4px 0 0 4px !important;\n    margin-right: 0 !important;\n    border-right: 0 !important;\n\n    .cif-cancel-hint {\n      opacity: 1;\n      margin-left: var(--cds-spacing-200);\n    }\n  "])))}},E=function(e){function SearchBar(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=null,t.handleChange=function(e){(0,t.props.handleChange)(e.target.value)},t.handleSubmitClick=function(e){e.preventDefault(),(0,t.props.handleSubmit)()},t.handleClear=function(){var e=t.context.router,n=e.location,r=n.query,a=n.pathname,o=e.params,s=t.props,i=s.handleBlur,c=s.handleClear;r.q||i(),c(),delete r.q,e.push({pathname:a,params:o,query:r})},t.handleBlur=function(e){var n,r=t.props.handleBlur;r&&e.relatedTarget&&(null!==(n=t.containerRef)&&void 0!==n&&n.contains(e.relatedTarget)||r())},t.handleKeyDown=function(e){var n=t.props,r=n.handleSubmit,a=n.handleBlur,o=n.handleShiftTab;switch(e.key){case"Enter":r();break;case"Tab":e.shiftKey&&a&&(a(),o(e))}},t.handleClearKeyDown=function(e){var n=t.props,r=n.handleBlur,a=n.handleShiftTab;switch(e.key){case"Enter":t.handleClear();break;case"Tab":e.shiftKey&&r&&(r(),a(e))}},t.submitKeyDown=function(e){var n=t.props,r=n.handleTab,a=n.handleShiftTab,o=n.handleSubmit;"Tab"===e.key?e.shiftKey?a(e):r(e):"Enter"!==e.key&&" "!==e.key||o()},t}s()(SearchBar,e);var t=SearchBar.prototype;return t.componentDidMount=function(){var e=document.getElementById("search-bar-expanded-input");e&&e.focus()},t.render=function(){var e=this,t=this.props.query,n=Object(l.d)("i",{role:"button",onMouseDown:this.handleClear,tabIndex:0,onKeyDown:this.handleClearKeyDown,className:"cif-cancel-hint close-icon","aria-label":y()("Clear Search")});return Object(l.d)("div",{className:"rc-ForumsV2__SearchBar search-bar expand-block expanded flex-1",css:S.searchBarContainer,ref:function(t){return e.containerRef=t},onBlur:this.handleBlur},Object(l.d)(f.a,{container:!0,direction:"row",wrap:"nowrap",css:S.searchContainer},Object(l.d)("div",{className:"input-area",css:S.inputArea},Object(l.d)(b.a,{trackingName:"search_bar",value:t,onChange:this.handleChange,onKeyDown:this.handleKeyDown,placeholder:y()("Search"),"aria-label":y()("Search Input"),className:"search-input",id:"search-bar-expanded-input"}),"string"==typeof t&&n),Object(l.d)(g.a,{type:"button",onMouseDown:this.handleSubmitClick,onKeyDown:this.submitKeyDown,"aria-label":y()("submit search")},y()("Search"))))},SearchBar}(u.Component);E.contextTypes={router:p.a.object.isRequired},E.defaultProps={handleBlur:function(){},handleTab:function(){},handleShiftTab:function(){},handleClear:function(){}},e.a=E}}]);
//# sourceMappingURL=34.11a908f3b5ea1586f5aa.js.map